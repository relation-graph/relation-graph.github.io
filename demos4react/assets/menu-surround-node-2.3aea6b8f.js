import{r as u,a as t,j as a,F as P}from"./index.7473cb17.js";import{u as j}from"./relation-graph.26f01d58.js";import{I as C}from"./index.e712a3dd.js";const Q=()=>{const c=u.exports.useRef(null),[l,N]=u.exports.useState(!1),[h,x]=u.exports.useState({x:0,y:0}),p=u.exports.useRef(null),[e,B]=u.exports.useState(null),[m,E]=u.exports.useState(!1),s={width:120,height:120};u.exports.useEffect(()=>{g()},[]);const g=async()=>{const o={rootId:"N13",nodes:[{id:"N1",text:"\u4FAF\u4EAE\u5E73",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=2308340537,462224207&fm=58&app=83&f=JPEG?w=250&h=250&s=EC708F46DA96B89CB69D5DDA0300D014&n=\u4FAF\u4EAE\u5E73"}},{id:"N2",text:"\u674E\u8FBE\u5EB7",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=2677153550,2207805387&fm=58&app=83&f=JPEG?w=250&h=250&s=249039DDC2D153D411A851360300C062&n=\u674E\u8FBE\u5EB7"}},{id:"N3",text:"\u7941\u540C\u4F1F",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=1725297532,1915921796&fm=58&app=83&f=JPEG?w=250&h=250&s=FE8EA444A60759554DAC1DBB03000092&n=\u7941\u540C\u4F1F"}},{id:"N4",text:"\u9648\u5CA9\u77F3",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=2025797948,1615296290&fm=58&app=83&f=JPEG?w=250&h=250&s=B5B04C331F32739C4604F9F503007021&n=\u9648\u5CA9\u77F3"}},{id:"N5",text:"\u9646\u4EA6\u53EF",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=344720653,260255884&fm=58&app=83&f=JPEG?w=250&h=250&s=57B8AB676AE862941D94ED170300E060&n=\u9646\u4EA6\u53EF"}},{id:"N6",text:"\u9AD8\u80B2\u826F",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3098576865,849900134&fm=58&app=83&f=JPEG?w=250&h=250&s=EDE01A63A65917DC104509920300C0C1&n=\u9AD8\u80B2\u826F"}},{id:"N7",text:"\u6C99\u745E\u91D1",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3722686698,2547355567&fm=58&app=83&f=JPEG?w=250&h=250&s=BF8A356E04E1B2BCEFA45D860100E0E1&n=\u6C99\u745E\u91D1"}},{id:"N8",text:"\u9AD8\u5C0F\u7434",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=4266886844,1791850012&fm=58&s=66B01AC758BB67960834B8FA0300C011&n=\u9AD8\u5C0F\u7434"}},{id:"N9",text:"\u9AD8\u5C0F\u51E4",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=2747443453,2680399969&fm=58&app=83&f=JPEG?w=58&h=58&s=DB8828C1562265150814ADFE03007012&n=\u9AD8\u5C0F\u51E4"}},{id:"N10",text:"\u8D75\u4E1C\u6765",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=3301823375,1282024443&fm=58&app=83&f=JPG?w=250&h=250&s=2BC2834F2C22A25D12C06CA80300E013&n=\u8D75\u4E1C\u6765"}},{id:"N11",text:"\u7A0B\u5EA6",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=134233720,666111889&fm=58&app=83&f=JPG?w=250&h=250&s=4DE5A844801F1BD461E039A20300C0C3&n=\u7A0B\u5EA6"}},{id:"N12",text:"\u5434\u60E0\u82AC",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=1215039713,3597142764&fm=58&app=83&f=JPEG?w=250&h=250&s=1A20E0018E3B6E9CD10C7DA30300E081&n=\u5434\u60E0\u82AC"}},{id:"N13",text:"\u8D75\u745E\u9F99",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=1140839330,2922201597&fm=58&app=83&f=JPEG?w=250&h=250&s=CDF9A844D45AB87512C8508B0100F080&n=\u8D75\u745E\u9F99"}},{id:"N14",text:"\u8D75\u7ACB\u6625",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=2110325119,1633583088&fm=58&app=83&f=JPEG?w=120&h=120&s=971E35C05A43305DCA7C1C0B030080C&n=\u8D75\u7ACB\u6625"}},{id:"N15",text:"\u9648\u6D77",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1416498138,2265298708&fm=58&app=83&f=JPEG?w=250&h=250&s=F906CF1C0E1356D046AC3CEB0300B0A0&n=\u9648\u6D77"}},{id:"N16",text:"\u6881\u7490",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3749144697,3456463661&fm=58&app=83&f=JPEG?w=250&h=250&s=783823D3FE621E94138CC08B030070C2&n=\u6881\u7490"}},{id:"N17",text:"\u5218\u65B0\u5EFA",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=2263876103,310235844&fm=58&app=83&f=JPEG?w=250&h=250&s=6CE2A944CC1223DC632CC09203009082&n=\u5218\u65B0\u5EFA"}},{id:"N18",text:"\u6B27\u9633\u83C1",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=3590139977,3135325708&fm=58&app=83&f=JPEG?w=250&h=250&s=2F1C8B46C4A214BCE100A81A03004091&n=\u6B27\u9633\u83C1"}},{id:"N19",text:"\u5434\u5FC3\u6021",color:"#ec6941",borderColor:"#ff875e",data:{icon:"https://dss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=2110325119,1633583088&fm=58&app=83&f=JPEG?w=120&h=120&s=971E35C05A43305DCA7C1C0B030080C&n=\u5434\u5FC3\u6021"}},{id:"N20",text:"\u8521\u6210\u529F",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=4153440298,254451173&fm=58&app=83&f=JPEG?w=250&h=250&s=07C2B4488C42D355548CC41F010080D1&n=\u8521\u6210\u529F"}},{id:"N21",text:"\u4E01\u4E49\u73CD",color:"rgba(0, 206, 209, 1)",borderColor:"#6cc0ff",data:{icon:"https://dss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=842795163,1346447987&fm=58&app=83&f=JPEG?w=250&h=250&s=2BC3736EE499247D41C0B4820100E093&n=\u4E01\u4E49\u73CD"}}],lines:[{from:"N6",to:"N1",text:"\u5E08\u751F",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N6",to:"N3",text:"\u5E08\u751F",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N14",to:"N6",text:"\u524D\u9886\u5BFC",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N14",to:"N13",text:"\u7236\u5B50",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N14",to:"N17",text:"\u524D\u90E8\u961F\u4E0B\u5C5E",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N2",to:"N14",text:"\u524D\u4EFB\u79D8\u4E66",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N3",to:"N8",text:"\u60C5\u4EBA",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N4",to:"N15",text:"\u7236\u5B50",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N5",to:"N15",text:"\u5C5E\u4E0B",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N7",to:"N4",text:"\u6545\u4EBA",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N3",to:"N15",text:"\u5E08\u54E5",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N3",to:"N1",text:"\u5E08\u54E5",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N1",to:"N15",text:"\u540C\u5B66\uFF0C\u751F\u6B7B\u670B\u53CB",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N6",to:"N12",text:"\u592B\u59BB",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N15",to:"N10",text:"\u670B\u53CB",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N8",to:"N9",text:"\u53CC\u80DE\u80CE",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N10",to:"N5",text:"\u7231\u6155",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N3",to:"N11",text:"\u9886\u5BFC",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N6",to:"N9",text:"\u60C5\u4EBA",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N13",to:"N3",text:"\u52FE\u7ED3",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N2",to:"N10",text:"\u9886\u5BFC",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N13",to:"N11",text:"\u9886\u5BFC",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N7",to:"N2",text:"\u9886\u5BFC",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N7",to:"N6",text:"\u9886\u5BFC",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N3",to:"N16",text:"\u592B\u59BB",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N12",to:"N16",text:"\u670B\u53CB",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N2",to:"N18",text:"\u592B\u59BB",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N13",to:"N17",text:"\u6D17\u94B1\u5DE5\u5177",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N13",to:"N8",text:"\u52FE\u7ED3\uFF0C\u8150\u5316",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N13",to:"N9",text:"\u8150\u5316",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N19",to:"N5",text:"\u6BCD\u5973",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N19",to:"N12",text:"\u59D0\u59B9",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N20",to:"N1",text:"\u53D1\u5C0F",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N20",to:"N18",text:"\u4E3E\u62A5",color:"#ed724d",fontColor:"#ed724d"},{from:"N18",to:"N17",text:"\u4E3E\u62A5",color:"#ed724d",fontColor:"#ed724d"},{from:"N17",to:"N13",text:"\u4E3E\u62A5",color:"#ed724d",fontColor:"#ed724d"},{from:"N2",to:"N21",text:"\u9886\u5BFC",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N8",to:"N21",text:"\u7B56\u5212\u51FA\u9003",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N3",to:"N21",text:"\u52FE\u7ED3",color:"#d2c0a5",fontColor:"#d2c0a5"},{from:"N13",to:"N21",text:"\u52FE\u7ED3",color:"#d2c0a5",fontColor:"#d2c0a5"}]},r=c.current.getInstance();r&&await r.setJsonData(o)},i=()=>{if(!p.current)return;const o=p.current,r=c.current.getInstance();if(r){r.getBoundingClientRect();const d=r.getClientCoordinateByCanvasCoordinate({x:o.x+o.el.offsetWidth/2,y:o.y+o.el.offsetHeight/2});x({x:d.x-r.options.canvasOffset.x-s.width/2,y:d.y-r.options.canvasOffset.y-s.height/2})}},F=(o,r)=>{p.current=o,B(o),i(),N(!0)},b=()=>{var r;const o=(r=c.current)==null?void 0:r.getInstance();o&&o.clearChecked(),N(!1),E(!1)},D=()=>{i()},y=()=>{i()},A=()=>{i()},f=(o,r)=>{N(!1),console.log("Node:",e==null?void 0:e.text,"Menu Event:",o),o==="1"?E(!m):o==="2"?w():o==="3"?I(r):o==="4"&&v()},w=()=>{var r;const o=(r=c.current)==null?void 0:r.getInstance();if(o&&e){const n={id:o.generateNewNodeId(),color:e.color,text:e.text,borderColor:e.borderColor,data:{...e.data},force_weight:20,x:e.x+60,y:e.y+60};o.addNodes([n]),o.layouter.allLinks=o.getLinks(),o.layouter.allNodes=o.getNodes(),o.layouter.autoLayout()}},v=()=>{const o=c.current.getInstance(),r=o.generateNewNodeId();o.addNodes([{id:r,text:"New Node",x:e.x+60,y:e.y+60}]),o.addLines([{from:e.id,to:r}]),o.layouter.allLinks=o.getLinks(),o.layouter.allNodes=o.getNodes(),o.layouter.autoLayout()},I=o=>{const r=c.current.getInstance();r.startCreatingLinePlot(o,{template:{lineWidth:2,color:"#8080ff",text:"New Line"},fromNode:e,onCreateLine:(d,n)=>{console.log("New Line\uFF1A",d,n),n.id&&r.addLines([{from:d.id,to:n.id,lineWidth:3,color:"#8080ff",text:"New Line"}])}})};return t("div",{children:t("div",{style:{height:"100vh"},children:t(j,{ref:c,options:{debug:!1,defaultLineShape:1,placeSingleNode:!1,moveToCenterWhenRefresh:!0,zoomToFitWhenRefresh:!0,layout:{layoutName:"force",maxLayoutTimes:50},defaultNodeBorderWidth:0,defaultNodeColor:"#e85f84"},onNodeClick:F,onCanvasClick:b,onZoomEnd:D,onNodeDragEnd:y,onCanvasDragEnd:A,nodeSlot:O,graphPlugSlot:a(P,{children:[l&&a("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",placeItems:"center",width:`${s.width}px`,height:`${s.height}px`,left:`${h.x}px`,top:`${h.y}px`},className:"c-surround-menu-panel",children:[t("svg",{width:"100%",height:"100%",viewBox:"0 0 400 400",children:t("g",{children:a("g",{fill:"#000000",children:[t("path",{className:"c-svg-button",d:"m9.99469,187.08997c0,-40.82082 27.52652,-97.86001 62.20722,-128.85359c32.50037,-29.06937 66.90853,-43.9133 114.603,-49.41106l7.15417,-0.82466l0,61.84972l0,61.91844l-4.49691,0c-23.5747,0 -58.05098,34.01735 -58.18725,57.3828l0,4.46692l-60.64011,0l-60.64011,0l0,-6.52858",onClick:o=>f("1",o)}),t("path",{className:"c-svg-button",d:"m269.58887,188.4644c-4.36064,-26.73282 -34.27188,-56.69558 -56.68828,-56.69558l-3.95183,0l0,-61.781l0,-61.71228l7.83552,0.68722c91.98219,8.52152 166.11303,82.60374 174.22109,174.00389l0.95389,10.6519l-60.77638,0l-60.77638,0l-0.81762,-5.15414",onClick:o=>f("2",o)}),t("path",{className:"c-svg-button",d:"m176.92533,393.32443c-89.32493,-11.68273 -166.93065,-94.35519 -166.93065,-177.92103l0,-6.66603l60.43571,0l60.50384,0l0.68135,5.97881c2.52099,23.09056 29.02549,50.99166 52.12324,55.04625c11.3104,1.99294 10.22024,-4.87926 10.22024,63.43033l0,61.09378l-6.47282,-0.20617c-3.54302,-0.13744 -8.31246,-0.41233 -10.56092,-0.75594",onClick:o=>f("3",o)}),t("path",{className:"c-svg-button",d:"m209.28944,332.98659l0.34067,-61.57483l7.49485,-1.64933c7.08604,-1.51188 11.51481,-3.22993 21.12184,-8.4528c6.06401,-3.22993 20.03168,-18.28003 23.43843,-25.22094c4.97385,-10.17084 7.22231,-15.94348 7.22231,-18.62364c0,-1.37444 0.40881,-3.91715 0.88575,-5.6352l0.81762,-3.09249l60.43571,0l60.50384,0l0,5.15414c-0.06813,86.31472 -81.62568,171.87351 -171.35942,179.77653l-11.24227,0.96211l0.34067,-61.64356z",onClick:o=>f("4",o)})]})})}),a("div",{style:{height:"100%",width:"100%",position:"absolute",left:0,top:0,userSelect:"none",pointerEvents:"none",color:"#ffffff",fontSize:"22px"},children:[t("div",{style:{position:"absolute",left:20,top:20},children:t(C,{color:"#ffffff",size:"20px",name:"circle_info"})}),t("div",{style:{position:"absolute",right:20,top:20},children:t(C,{color:"#ffffff",size:"20px",name:"link"})}),t("div",{style:{position:"absolute",left:20,top:75,transform:"rotate(180deg)"},children:t(C,{color:"#ffffff",size:"20px",name:"maximize_1"})}),t("div",{style:{position:"absolute",right:20,top:75},children:t(C,{color:"#ffffff",size:"20px",name:"circle_plus"})})]}),t("div",{className:"c-current-node-text",children:t("input",{value:e.text,onChange:o=>e.text=o.target.value})})]}),m&&t("div",{className:"c-operate-panels",children:e&&a("div",{className:"c-node-info-card",style:{backgroundColor:e.color},children:[a("div",{style:{borderBottom:"#ffffff solid 1px"},children:["Name: ",e.text]}),t("div",{style:{borderBottom:"#ffffff solid 1px"},children:"Position: What you want to show"}),"Avatar:",t("img",{className:"c-person-pic",src:e.data.icon}),a("div",{className:"c-node-options-panel",children:[t("div",{children:"Name:"}),t("input",{value:e.text,onChange:o=>e.text=o.target.value,style:{width:"100%"}}),t("div",{children:"Color:"}),t("input",{value:e.borderColor,onChange:o=>e.borderColor=o.target.value,style:{width:"100%"}}),t("div",{children:"Avatar:"}),t("input",{value:e.data.icon,onChange:o=>e.data.icon=o.target.value,style:{width:"100%"}})]})]})})]})})})})},O=({node:c})=>{var l;return a("div",{className:"w-full h-full",children:[t("div",{className:"my-node-style",style:{backgroundImage:`url(${(l=c.data)==null?void 0:l.icon})`}}),t("div",{className:"c-node-name",style:{color:c.color},children:c.text})]})};export{Q as default};
