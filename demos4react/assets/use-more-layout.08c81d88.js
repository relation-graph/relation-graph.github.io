import{r as u,a as r,j as f}from"./index.7473cb17.js";import{u as b,h as C}from"./relation-graph.26f01d58.js";import _ from"./GoToVipService.717f7f4c.js";import"./index.e712a3dd.js";const{RGNodesAnalytic:p}=C,D=()=>{const l=u.exports.useRef(null),g=!0,x={layout:{layoutName:"tree",from:"top",levelDistance:"150,200,200"},graphOffset_y:300,defaultNodeColor:"#ffffff",defaultNodeShape:1,defaultLineShape:6,defaultLineWidth:3};u.exports.useEffect(()=>{(async()=>{var o;const i=(o=l.current)==null?void 0:o.getInstance();if(i){i.addNodes([{id:"root",text:"",nodeShape:1,offset_y:100,data:{allowOverlap:!1}},{id:"message",text:"",nodeShape:1,color:"#1f1e18",data:{dropAble:!0},offset_y:200,styleClass:"evip-desc"},{id:"button",text:"",nodeShape:0,color:"#ffffff",width:120,height:120,borderWidth:2,styleClass:"evip-eye",borderColor:"#fc9c42",offset_x:110,offset_y:50},{id:"button2",text:"",nodeShape:0,color:"#ffffff",width:120,height:120,borderWidth:2,styleClass:"evip-eye",borderColor:"#fc9c42",offset_x:-110,offset_y:50}]),i.addLines([{from:"root",to:"message",showEndArrow:!1,fromJunctionPoint:"left",toJunctionPoint:"left",lineWidth:30,color:"rgba(252,156,66,0.28)"},{from:"root",to:"message",showEndArrow:!1,fromJunctionPoint:"right",toJunctionPoint:"right",lineWidth:30,color:"rgba(252,156,66,0.24)"},{from:"button",to:"root",lineShape:1,lineWidth:8,showEndArrow:!1,color:"#fc9c42"},{from:"button2",to:"root",lineShape:1,lineWidth:8,showEndArrow:!1,color:"#fc9c42"}]);for(const a of i.getNodes())a.data.orignColorSaved||(a.data.orignColorSaved=!0,a.data.orignColor=a.color);i.graphData.rootNode=i.getNodeById("root"),await i.doLayout()}})()},[]);const y=(e,i,o,a)=>{var n;const t=(n=l.current)==null?void 0:n.getInstance();let d=!1,c;for(const s of(t==null?void 0:t.getNodes())||[]){if(e===s)continue;const A=e.nodeShape||(t==null?void 0:t.options.defaultNodeShape)||0,S=s.nodeShape||(t==null?void 0:t.options.defaultNodeShape)||0,w={el:e.el,x:i,y:o};if(p.shapesOverlap(w,s,A,S)){let h=s.data.dropAble?"rgb(75,145,1)":"rgba(252,189,189,0.82)";s.data.allowOverlap===!1&&(d=!0,c=p.getNoOverlapLimitedPosition(e,i,o,s),h="rgba(214,165,246,0.82)"),s.color=h}else s.color=s.data.orignColor}if(d)return c},m=(e,i)=>{e.data.startX=e.x,e.data.startY=e.y},v=(e,i)=>{var a;const o=(a=l.current)==null?void 0:a.getInstance();for(const t of(o==null?void 0:o.getNodes())||[])t.color=t.data.orignColor;for(const t of(o==null?void 0:o.getNodes())||[]){if(console.log("overlap:",t.id),e===t||t.data.allowOverlap===!1||!t.data.dropAble)continue;const d=e.nodeShape||(o==null?void 0:o.options.defaultNodeShape)||0,c=t.nodeShape||(o==null?void 0:o.options.defaultNodeShape)||0,n=p.shapesOverlap(e,t,d,c);if(console.log("overlap:",t.text,n),n){N(e,t);break}}},N=(e,i)=>{var a;console.log("updateNodeAsChildren:",i.id,"---->",e.id),e.x=e.data.startX,e.y=e.data.startY;const o=(a=l.current)==null?void 0:a.getInstance();o==null||o.addLines([{from:i.id,to:e.id,color:"#f39930",lineShape:1,lineWidth:3}])};return r("div",{children:r("div",{style:{height:"100vh"},children:r(b,{ref:l,options:x,onNodeDragging:y,onNodeDragStart:m,onNodeDragEnd:v,nodeSlot:({node:e})=>e.id==="root"?r("div",{style:{width:"400px"},children:r(_,{entVip:!0})}):e.id==="message"?r("div",{className:"c-vip-desc",style:{borderRadius:"5px",width:"700px",color:"#ffffff",textAlign:"left",padding:"10px",lineHeight:"25px",fontSize:"12px"},children:f("div",{style:{display:"flex"},children:[r("div",{style:{width:"160px",height:"100%",display:"flex",justifyContent:"center",placeItems:"center"},children:f("div",{className:"express-loading",children:[r("div",{className:"express-loading-icon-spinner"}),r("div",{className:"express-loading-icon",style:{backgroundImage:"url('https://relation-graph.com/images/logo-plain.png')",backgroundSize:"100% 100%"}})]})}),f("div",{style:{flexGrow:1,paddingTop:"20px",paddingRight:"20px",paddingBottom:"20px"},children:[!g,f("div",{children:["Become a Enterprise VIP.",r("br",{}),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0You can describe to me the layout method you want or tell me which graph library's layout method you want to migrate to use in relation-graph.",r("br",{}),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0After the migration is complete, you can take advantage of relation-graph's slot support and use div+css, Vue components, React components, etc. to fully customize your graphic elements.",r("br",{})]})]})]})}):e.id==="button"?r("div",{className:"c-eye",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",placeItems:"center",padding:"5px"},children:r("a",{href:"/vip-services",target:"_top",children:r("div",{className:"c-eye-dot c-eye-dot-left",children:r("div",{className:"c-eye-text",children:"Service"})})})}):e.id==="button2"?r("div",{className:"c-eye",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",placeItems:"center",padding:"5px"},children:r("a",{href:"/vip-services",target:"_top",children:r("div",{className:"c-eye-dot c-eye-dot-right",children:r("div",{className:"c-eye-text",children:"Price"})})})}):null})})})};export{D as default};
