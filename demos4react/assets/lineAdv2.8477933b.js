import{r as a,a as t,j as L}from"./index.7473cb17.js";import{u as P}from"./relation-graph.26f01d58.js";import{MySelector as n}from"./RGComponentsForDemo.afa6e56e.js";const w=()=>{const[r,h]=a.exports.useState(2),[l,u]=a.exports.useState("lr"),[i,f]=a.exports.useState(""),[s,b]=a.exports.useState("middle"),d=a.exports.useRef(null),p={allowSwitchLineShape:!0,allowSwitchJunctionPoint:!0,defaultLineColor:"#2E74B5",defaultNodeColor:"#2E74B5",defaultNodeBorderWidth:0,defaultNodeBorderColor:"#2E74B5",defaultNodeFontColor:"#ffffff",defaultNodeWidth:170,defaultNodeHeight:40,toolBarDirection:"h",toolBarPositionH:"center",toolBarPositionV:"bottom",defaultLineShape:2,defaultJunctionPoint:"lr",lineUseTextPath:!0,defaultLineTextOffset_x:2,defaultLineTextOffset_y:-3,lineTextMaxLength:5,layout:{layoutName:"tree",from:"left",min_per_width:410,min_per_height:50}},v={rootId:"a",nodes:[{id:"a",text:"a"},{id:"b",text:"b"},{id:"b1",text:"b1"},{id:"b1-1",text:"b1-1"},{id:"b1-2",text:"b1-2"},{id:"b1-3",text:"b1-3"},{id:"b1-4",text:"b1-4"},{id:"b1-5",text:"b1-5"},{id:"b1-6",text:"b1-6"},{id:"b2",text:"b2"},{id:"b2-1",text:"b2-1"},{id:"b2-2",text:"b2-2"},{id:"c",text:"c"},{id:"c1",text:"c1"},{id:"c2",text:"c2"},{id:"c3",text:"c3"}],lines:[{from:"a",to:"b",text:"These relationship texts are very long"},{from:"b",to:"b1",text:"These relationship texts are very long"},{from:"b1",to:"b1-1",text:"These relationship texts are very long"},{from:"b1",to:"b1-2",text:"These relationship texts are very long"},{from:"b1",to:"b1-3",text:"These relationship texts are very long"},{from:"b1",to:"b1-4",text:"These relationship texts are very long"},{from:"b1",to:"b1-5",text:"These relationship texts are very long"},{from:"b1",to:"b1-6",text:"These relationship texts are very long"},{from:"b",to:"b2",text:"These relationship texts are very long"},{from:"b2",to:"b2-1",text:"These relationship texts are very long"},{from:"b2",to:"b2-2",text:"These relationship texts are very long"},{from:"a",to:"c",text:"These relationship texts are very long"},{from:"c",to:"c1",text:"These relationship texts are very long"},{from:"c",to:"c2",text:"These relationship texts are very long"},{from:"c",to:"c3",text:"These relationship texts are very long"}]},g=()=>L("div",{className:"rounded-lg absolute left-20 top-20 z-20 p-4 bg-white border-solid border-2 border-black shadow-lg",children:[t("div",{className:"c-option-name",children:"Line Shape:"}),t(n,{data:[{value:1,text:"Straight"},{value:2,text:"Curve 2"},{value:5,text:"Curve 5"},{value:6,text:"Curve 6"},{value:4,text:"Polyline"}],currentValue:r,onChange:(e,o)=>{h(e)}}),t("div",{className:"c-option-name",children:"Junction Point:"}),t(n,{data:[{value:"border",text:"Border"},{value:"lr",text:"Left-Right"}],currentValue:l,onChange:(e,o)=>{u(e)}}),t("div",{className:"c-option-name",children:"Line Text Anchor:"}),t(n,{data:[{value:"start",text:"start"},{value:"middle",text:"middle"},{value:"end",text:"end"}],currentValue:s,onChange:(e,o)=>{b(e)}}),t("div",{className:"c-option-name",children:"The Position Of The Text On The Line\uFF1A"}),t(n,{data:[{value:"",text:"Default"},{value:"start",text:"Start"},{value:"end",text:"End"},{value:"20%",text:"20%"},{value:"40%",text:"40%"},{value:"60%",text:"60%"},{value:"80%",text:"80%"},{value:"90%",text:"90%"}],currentValue:i,onChange:(e,o)=>{f(e)}})]}),m=async()=>{var o;const e=(o=d.current)==null?void 0:o.getInstance();e&&await e.setJsonData(v)},T=()=>{var o;const e=(o=d.current)==null?void 0:o.getInstance();if(e){const c=e.options;c.defaultLineShape=r,c.defaultJunctionPoint=l;const y=e.getLinks().reduce((x,S)=>x.concat(...S.relations),[]);for(const x of y)x.placeText=i;e.dataUpdated()}};return a.exports.useEffect(()=>{m()},[]),a.exports.useEffect(()=>{T()},[r,l,i]),t("div",{children:t("div",{className:`my-graph ${s==="start"?"my-line-style-start":""} ${s==="end"?"my-line-style-end":""}`,style:{height:"100vh"},children:t(P,{ref:d,options:p,graphPlugSlot:g})})})};export{w as default};
