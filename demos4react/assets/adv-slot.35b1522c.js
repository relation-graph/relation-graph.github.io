import{r as i,j as a,a as n}from"./index.7473cb17.js";import{u as C}from"./relation-graph.26f01d58.js";import{I as w}from"./index.e712a3dd.js";import{ElNotification as k}from"./RGComponentsForDemo.afa6e56e.js";const M=()=>{const r=i.exports.useRef(null),[u,c]=i.exports.useState(!1),[s,v]=i.exports.useState(null),m=i.exports.useRef(null),[x,g]=i.exports.useState({x:0,y:0}),p={allowSwitchLineShape:!0,allowSwitchJunctionPoint:!0,defaultNodeColor:"rgba(66,187,66,1)",defaultJunctionPoint:"border"},N=async()=>{var o;const t={rootId:"2",nodes:[{id:"1",text:"Node-1",data:{myicon:"star"}},{id:"2",text:"Node-2",data:{myicon:"settings"}},{id:"3",text:"Node-3",data:{myicon:"settings"}},{id:"4",text:"Node-4",data:{myicon:"star"}},{id:"6",text:"Node-6",data:{myicon:"settings"}},{id:"7",text:"Node-7",data:{myicon:"settings"}},{id:"8",text:"Node-8",data:{myicon:"star"}},{id:"9",text:"Node-9",data:{myicon:"headphones"}},{id:"71",text:"Node-71",data:{myicon:"headphones"}},{id:"72",text:"Node-72",data:{myicon:"bluetooth"}},{id:"73",text:"Node-73",data:{myicon:"star"}},{id:"81",text:"Node-81",data:{myicon:"burger"}},{id:"82",text:"Node-82",data:{myicon:"burger"}},{id:"83",text:"Node-83",data:{myicon:"star"}},{id:"84",text:"Node-84",data:{myicon:"burger"}},{id:"85",text:"Node-85",data:{myicon:"gift"}},{id:"91",text:"Node-91",data:{myicon:"gift"}},{id:"92",text:"Node-82",data:{myicon:"gift"}},{id:"51",text:"Node-51",data:{myicon:"gift"}},{id:"52",text:"Node-52",data:{myicon:"gift"}},{id:"53",text:"Node-53",data:{myicon:"gift"}},{id:"54",text:"Node-54",data:{myicon:"gift"}},{id:"55",text:"Node-55",data:{myicon:"gift"}},{id:"5",text:"Node-5",data:{myicon:"gift"}}],lines:[{from:"7",to:"71",text:"Investment"},{from:"7",to:"72",text:"Investment"},{from:"7",to:"73",text:"Investment"},{from:"8",to:"81",text:"Investment"},{from:"8",to:"82",text:"Investment"},{from:"8",to:"83",text:"Investment"},{from:"8",to:"84",text:"Investment"},{from:"8",to:"85",text:"Investment"},{from:"9",to:"91",text:"Investment"},{from:"9",to:"92",text:"Investment"},{from:"5",to:"51",text:"Investment 1"},{from:"5",to:"52",text:"Investment"},{from:"5",to:"53",text:"Investment 3"},{from:"5",to:"54",text:"Investment 4"},{from:"5",to:"55",text:"Investment"},{from:"1",to:"2",text:"Investment"},{from:"3",to:"1",text:"Executive"},{from:"4",to:"2",text:"Executive"},{from:"6",to:"2",text:"Executive"},{from:"7",to:"2",text:"Executive"},{from:"8",to:"2",text:"Executive"},{from:"9",to:"2",text:"Executive"},{from:"1",to:"5",text:"Investment"}]},e=(o=r.current)==null?void 0:o.getInstance();await(e==null?void 0:e.setJsonData(t)),await(e==null?void 0:e.moveToCenter()),await(e==null?void 0:e.zoomToFit())},y=(t,e)=>{console.log("onNodeClick:",t)},h=(t,e,o)=>{console.log("onLineClick:",t)},I=t=>{console.log("nodeSlotOver:",t)},S=t=>{console.log("nodeSlotOut:",t)},l=(t,e)=>{var f;v(t);const o=(f=m.current)==null?void 0:f.getBoundingClientRect();console.log("showNodeMenus:",e,o),c(!0),g({x:e.clientX-((o==null?void 0:o.x)||0),y:e.clientY-((o==null?void 0:o.y)||0)})},d=t=>{k({title:"Tip",message:"Performed action "+t+" on node: "+(s==null?void 0:s.text),type:"success"}),c(!1)};return i.exports.useEffect(()=>{N()},[]),a("div",{children:[n("div",{ref:m,style:{height:"100vh"},onClick:()=>c(!1),children:n(C,{ref:r,options:p,onNodeClick:y,onLineClick:h,nodeSlot:({node:t})=>{var e;return a("div",{children:[n("div",{className:"c-my-rg-node",onClick:o=>l(t,o),onContextMenu:o=>l(t,o),onMouseEnter:o=>I(t),onMouseLeave:o=>S(t),children:n(w,{size:"20px",name:"cloud_on"})}),n("div",{style:{color:"forestgreen",fontSize:"16px",position:"absolute",width:"160px",height:"25px",lineHeight:"25px",marginTop:"5px",marginLeft:"-48px",textAlign:"center",backgroundColor:"rgba(66,187,66,0.2)"},children:(e=t.data)==null?void 0:e.myicon})]})}})}),u&&a("div",{style:{left:x.x+"px",top:x.y+"px",zIndex:999,padding:"10px",backgroundColor:"#ffffff",border:"#eeeeee solid 1px",boxShadow:"0px 0px 8px #cccccc",position:"absolute",borderRadius:"10px"},children:[n("div",{style:{lineHeight:"25px",paddingLeft:"10px",color:"#888888",fontSize:"12px"},children:"Perform actions on this node:"}),n("div",{className:"c-node-menu-item",onClick:()=>d("Action 1"),children:"Action 1"}),n("div",{className:"c-node-menu-item",onClick:()=>d("Action 2"),children:"Action 2"}),n("div",{className:"c-node-menu-item",onClick:()=>d("Action 3"),children:"Action 3"}),n("div",{className:"c-node-menu-item",onClick:()=>d("Action 4"),children:"Action 4"})]})]})};export{M as default};
