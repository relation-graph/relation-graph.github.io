import{r as w,a as i,j as f}from"./index.7473cb17.js";import{u as y}from"./relation-graph.26f01d58.js";import{d as m}from"./use-dagre-layout.0a4d2c3b.js";import{MySelector as b}from"./RGComponentsForDemo.afa6e56e.js";const I=()=>{const s=w.exports.useRef(null),[x,c]=w.exports.useState("2"),h={debug:!1,lineUseTextPath:!0,layout:{layoutName:"fixed"},defaultNodeShape:1,defaultLineShape:1,defaultJunctionPoint:"border",defaultNodeBorderWidth:0,defaultLineColor:"rgba(0, 186, 189, 1)",defaultNodeColor:"rgba(0, 206, 209, 1)"},L=async()=>{let t;x==="1"?t={rootId:"root",nodes:[{id:"root",text:"Theme"},{id:"N2",text:"New-N2"},{id:"N3",text:"New-N3"},{id:"N4",text:"New-N4"},{id:"N5",text:"New-N5"},{id:"N6",text:"New-N6"},{id:"N7",text:"New-N7"},{id:"N8",text:"New-N8"}],lines:[{from:"root",to:"N2",text:"New Line 1"},{from:"root",to:"N3",text:"New Line 2"},{from:"N3",to:"N4",text:"New Line 4"},{from:"N4",to:"N5",text:"New Line 5"},{from:"N5",to:"N6",text:"New Line 6"},{from:"N6",to:"N2",text:"New Line 7"},{from:"N2",to:"N8",text:"New Line 8"},{from:"N2",to:"N7",text:"New Line 9"},{from:"N7",to:"N8",text:"New Line 10"},{from:"root",to:"N8",text:"New Line 11"}]}:t={rootId:"root",nodes:[{id:"root",text:"Node"},{id:"N2",text:"New Node N2"},{id:"N3",text:"New Node N3"},{id:"N4",text:"New Node N4"},{id:"N5",text:"New Node N5"},{id:"N6",text:"New Node N6"},{id:"N7",text:"New Node N7"},{id:"N8",text:"New Node N8"},{id:"N9",text:"New Node N9"},{id:"N10",text:"New Node N10"},{id:"N11",text:"New Node N11"},{id:"N12",text:"New Node N12"},{id:"N13",text:"New Node N13"},{id:"N14",text:"New Node N14"},{id:"N15",text:"New Node N15"},{id:"N16",text:"New Node N16"},{id:"N17",text:"New Node N17"},{id:"N18",text:"New Node N18"},{id:"N19",text:"New Node N19"},{id:"N20",text:"New Node N20"},{id:"N21",text:"New Node N21"},{id:"N22",text:"New Node N22"},{id:"N23",text:"New Node N23"},{id:"N24",text:"New Node N24"},{id:"N25",text:"New Node N25"},{id:"N26",text:"New Node N26"},{id:"N27",text:"New-N27"},{id:"N28",text:"New-N28"},{id:"N29",text:"New-N29"},{id:"N30",text:"New-N30"},{id:"N31",text:"New-N31"},{id:"N32",text:"New-N32"},{id:"N33",text:"New-N33"},{id:"N34",text:"New-N34"},{id:"N35",text:"New-N35"},{id:"N36",text:"New-N36"},{id:"N37",text:"New-N37"},{id:"N38",text:"New-N38"},{id:"N39",text:"New-N39"}],lines:[{from:"N3",to:"N2",text:"New Line 1"},{from:"N2",to:"root",text:"New Line 1"},{from:"root",to:"N4",text:"New Line 2"},{from:"N4",to:"N5",text:"New Line 3"},{from:"N6",to:"N7",text:"New Line 2"},{from:"N7",to:"root",text:"New Line 3"},{from:"N8",to:"N9",text:"New Line 4"},{from:"N9",to:"root",text:"New Line 5"},{from:"N10",to:"N11",text:"New Line 6"},{from:"N11",to:"root",text:"New Line 7"},{from:"N13",to:"N12",text:"New Line 8"},{from:"N12",to:"root",text:"New Line 9"},{from:"N18",to:"N17",text:"New Line 10"},{from:"N17",to:"N14",text:"New Line 11"},{from:"N15",to:"N14",text:"New Line 12"},{from:"N16",to:"N15",text:"New Line 13"},{from:"N12",to:"N14",text:"New Line 14"},{from:"N20",to:"N19",text:"New Line 15"},{from:"N21",to:"N19",text:"New Line 16"},{from:"N19",to:"N15",text:"New Line 17"},{from:"N26",to:"N22",text:"New Line 18"},{from:"N24",to:"N25",text:"New Line 19"},{from:"N24",to:"N22",text:"New Line 20"},{from:"N22",to:"N23",text:"New Line 21"},{from:"N23",to:"N14",text:"New Line 22"},{from:"root",to:"N30",text:"New Line 1"},{from:"root",to:"N27",text:"New Line 2"},{from:"N30",to:"N33",text:"New Line 3"},{from:"N30",to:"N29",text:"New Line 4"},{from:"N27",to:"N28",text:"New Line 5"},{from:"N27",to:"N31",text:"New Line 6"},{from:"N27",to:"N32",text:"New Line 7"},{from:"N4",to:"N34",text:"New Line 8"},{from:"N28",to:"N35",text:"New Line 9"},{from:"N28",to:"N36",text:"New Line 12"},{from:"N28",to:"N37",text:"New Line 13"},{from:"N36",to:"N39",text:"New Line 14"},{from:"N36",to:"N38",text:"New Line 15"}]},t.nodes.forEach(e=>{});let d=0;t.lines.forEach(e=>{e.data={id:"L"+d++,points:[]}});const N=s.current.getInstance();await N.setJsonData(t);const r=[],l=[];N.getNodes().forEach(e=>{e.width=e.el.offsetWidth,e.height=e.el.offsetHeight;const{id:o,width:a,height:g}=e;r.push({id:o,width:a,height:g})}),N.getLinks().forEach(e=>{e.relations.forEach(o=>{var a;l.push({id:(a=o.data)==null?void 0:a.id,from:e.fromNode.id,to:e.toNode.id})})});const n=new m.graphlib.Graph;n.setGraph({nodesep:50,ranksep:50,ranker:"network-simplex"});for(const e of r)n.setNode(e.id,e);for(const e of l)n.setEdge(e.from,e.to,e);m.layout(n),console.log("all nodes:",r);for(const e of r){console.log("set dagre-node position to relation-graph node:",e.id,e.x,e.y);const o=N.getNodeById(e.id);o.x=e.x,o.y=e.y}console.log(N.getGraphJsonData()),await N.moveToCenter(),await N.zoomToFit()},p=(t,d)=>{console.log("onNodeClick:",t)},u=(t,d,N)=>{console.log("onLineClick:",t)};return w.exports.useEffect(()=>{L()},[x]),i("div",{children:f("div",{style:{height:"100vh"},children:[f("div",{className:"w-96 rounded-lg absolute left-20 top-20 z-20 p-4 bg-white border-solid border-2 border-black shadow-lg",children:[i("div",{className:"c-option-name",children:"Sample Data:"}),i(b,{data:[{value:"1",text:"Sample Data 1"},{value:"2",text:"Sample Data 2"}],currentValue:x,onChange:(t,d)=>{c(t)}}),i("div",{className:"c-option-name",style:{lineHeight:"25px",padding:"10px"},children:"This layout uses a third-party layout algorithm: Dagre, and you can still use powerful features such as slot support in relation-graph. The Dagre layout can make the layout clear when the relationship is chaotic by setting the relationship weight, and avoid nodes with complex curved lines."})]}),i(y,{ref:s,options:h,onNodeClick:p,onLineClick:u})]})})};export{I as default};
