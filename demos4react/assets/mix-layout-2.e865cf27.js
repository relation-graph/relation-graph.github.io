import{r as x,a as i,j as p}from"./index.7473cb17.js";import{s as A,h as D,u as R}from"./relation-graph.26f01d58.js";const q=()=>{const u=x.exports.useRef(null),g=x.exports.useRef({x:0,y:0}),h=x.exports.useRef(0),b=x.exports.useRef(0);x.exports.useEffect(()=>{S()},[]);const S=async()=>{const e=[{id:"a",text:"Raw Materials",children:[{id:"a1",text:"Composite Materials",children:[{id:"a1-1",text:"Carbon Fiber"},{id:"a1-2",text:"Metal-based"},{id:"a1-3",text:"Ceramic-based"},{id:"a1-4",text:"Resin-based"}]},{id:"a2",text:"Metal Materials",children:[{id:"a2-1",text:"Magnesium Aluminum Alloy"},{id:"a2-2",text:"Titanium Alloy"},{id:"a2-3",text:"Aerospace Steel"}]}]}],a=[{id:"b",text:"Components",children:[{id:"b1",text:"Electronic Components",children:[{id:"b1-1",text:"Passive Components",children:[{id:"b1-1-1",text:"Passive Component 1"},{id:"b1-2-2",text:"Passive Component 2"}]},{id:"b1-2",text:"Active Components",children:[{id:"b2-2-1",text:"Active Component 1"},{id:"b2-2-2",text:"Active Component 2"}]}]},{id:"b2",text:"Power Components",children:[{id:"b2-1",text:"Power Component 1"},{id:"b2-2",text:"Power Component 2"},{id:"b2-3",text:"Power Component 3"}],expanded:!1},{id:"b3",text:"Mechanical Components",children:[{id:"b3-1",text:"Mechanical Component 1"},{id:"b3-2",text:"Mechanical Component 2"},{id:"b3-3",text:"Mechanical Component 3"}],expanded:!1}]}],l=[{id:"c",text:"R&D Design",children:[{id:"c1",text:"Conceptual Design",children:[{id:"c1-1",text:"UAV System Components",children:[{id:"c1-1-1",text:"UAV Power System"},{id:"c1-1-2",text:"UAV Communication System"},{id:"c1-1-3",text:"Flight Support System"},{id:"c1-1-4",text:"Command and Control System"},{id:"c1-1-4",text:"Mission Equipment Subsystem"}]},{id:"c1-2",text:"UAV Classification",children:[{id:"c1-2-1",text:"Military UAV"},{id:"c1-2-2",text:"Civil UAV"}]},{id:"c1-3",text:"Support and Maintenance System",children:[{id:"c3-3-1",text:"Grassroots Support and Maintenance Equipment"},{id:"c3-3-2",text:"Base-level Support and Maintenance Equipment"}]}]},{id:"c2",text:"Preliminary Design"},{id:"c3",text:"Detailed Design"},{id:"c4",text:"Prototype Design"},{id:"c5",text:"Prototype Flight"},{id:"c6",text:"Mass Production Preparation"}]}],o=[{id:"d",text:"Production",children:[{id:"d1",text:"UAV System Components",children:[{id:"d1-1",text:"UAV Power System"},{id:"d1-2",text:"UAV Communication System"},{id:"d1-3",text:"Flight Support System"},{id:"d1-4",text:"Command and Control System"},{id:"d1-4",text:"Mission Equipment Subsystem"}]},{id:"d2",text:"UAV Classification",children:[{id:"d2-1",text:"Military UAV"},{id:"d2-2",text:"Civil UAV"}]},{id:"d3",text:"Support and Maintenance System",children:[{id:"d3-1",text:"Grassroots Support and Maintenance Equipment"},{id:"d3-2",text:"Base-level Support and Maintenance Equipment"}]}]}],c=[{id:"e",text:"Application",children:[{id:"e1",text:"Urban Planning"},{id:"e2",text:"Environmental Monitoring"},{id:"e3",text:"Geographic Survey"},{id:"e4",text:"Logistics and Transportation"},{id:"e5",text:"Agriculture and Forestry"},{id:"e6",text:"National Defense and Security"},{id:"e7",text:"Performances and Exhibitions"}]}],r=[{id:"f",text:"MRO",children:[{id:"f1",text:"Leasing Services"},{id:"f2",text:"Onboard Equipment Maintenance"},{id:"f3",text:"Pilot Training",expanded:!1,children:[{id:"f3-1",text:"UAV System Components",children:[{id:"f3-1-1",text:"UAV Power System"},{id:"f3-1-2",text:"UAV Communication System"},{id:"f3-1-3",text:"Flight Support System"},{id:"f3-1-4",text:"Command and Control System"},{id:"f3-1-4",text:"Mission Equipment Subsystem"}]},{id:"f3-2",text:"UAV Classification",children:[{id:"f3-2-1",text:"Military UAV"},{id:"f3-2-2",text:"Civil UAV"}]},{id:"f3-3",text:"Support and Maintenance System",children:[{id:"f3-3-1",text:"Grassroots Support and Maintenance Equipment"},{id:"f3-3-2",text:"Base-level Support and Maintenance Equipment"}]}]},{id:"f4",text:"Route Maintenance"}]}],n={rootId:"my-root",nodes:[{id:"my-root",text:"Root Node",opacity:0}],lines:[],elementLines:[{from:"root-for-my-group-4-fake",to:"root-for-my-group-4",lineShape:1,color:"#f6a944",fromJunctionPoint:"bottom",toJunctionPoint:"top",showEndArrow:!1}]},t=u.current.getInstance();m(t,n,e,"my-group-1","a"),m(t,n,a,"my-group-2","b"),m(t,n,l,"my-group-3","c"),m(t,n,o,"my-group-4","d"),m(t,n,c,"my-group-5","e"),m(t,n,r,"my-group-6","f"),t==null||t.loading("Wait..."),await(t==null?void 0:t.setJsonData(n)),await(t==null?void 0:t.sleep(500)),await s("my-group-1","a"),await s("my-group-2","b"),await s("my-group-3","c"),await s("my-group-5","e"),await s("my-group-6","f"),await s("my-group-4","d"),await(t==null?void 0:t.moveToCenter()),await(t==null?void 0:t.zoomToFit()),t==null||t.clearLoading()},m=(e,a,l,o,c)=>{const r=[],n=[];e.flatNodeData(l,null,r,n),r.forEach(t=>{t.data||(t.data={}),t.data.myGroupId=o,t.junctionPoint="lr",t.id===c?(t.width=1,t.height=1,t.opacity=0):t.width=100,o==="my-group-2"&&(t.color="rgba(215,214,214,1)",t.children&&t.children.length>0&&(t.expandHolderPosition="left")),o==="my-group-3"&&(t.junctionPoint="lr",t.color="rgba(246,169,68,0.65)",t.children&&t.children.length>0&&(t.expandHolderPosition="left")),o==="my-group-4"&&(t.junctionPoint="tb",t.color="rgba(246,169,68,0.65)",t.fontColor="#333333",t.children&&t.children.length>0&&(t.expandHolderPosition="bottom")),o==="my-group-5"&&(t.junctionPoint="lr",t.color="rgba(108,200,150,0.53)"),o==="my-group-6"&&(t.junctionPoint="lr",t.color="rgba(108,200,150,0.53)",t.children&&t.children.length>0&&(t.expandHolderPosition="right")),t.children=void 0}),n.forEach(t=>{t.lineShape=4,o==="my-group-2"&&(t.color="rgba(215,214,214,1)"),o==="my-group-3"&&(t.color="rgba(246,169,68,0.65)"),o==="my-group-4"&&(t.color="rgba(246,169,68,0.65)"),o==="my-group-5"&&(t.color="rgba(108,200,150,0.53)")}),a.nodes.push(...r),a.lines.push(...n)},N=(e,a)=>{const o=document.getElementById(a).getBoundingClientRect(),c=e.$canvasDom.getBoundingClientRect(),r=(o.x-c.x)/(e.options.canvasZoom/100),n=(o.y-c.y)/(e.options.canvasZoom/100);return{x:r,y:n}},s=async(e,a)=>{const l=u.current.getInstance(),o=e,c="root-for-"+o,r=N(l,c),n=l.getNodes().filter(f=>f.data&&f.data.myGroupId===o),t=l.getNodeById(a);t.x=r.x,t.y=r.y+10;const d={layoutName:"tree",from:"right",layoutExpansionDirection:"top",max_per_width:180,max_per_height:40};e==="my-group-2"&&(d.layoutExpansionDirection="bottom"),e==="my-group-3"&&(d.from="right",d.layoutExpansionDirection="bottom",t.x=r.x+4,t.y=r.y+10,t.offset_y=t.y-h.current-80,d.max_per_width=150,d.levelDistance="170,200,200,200,200,170,170,170"),e==="my-group-4"&&(n.forEach(f=>{f.alignItems="top"}),t.x=r.x-4,t.y=b.current-20,g.current.y=t.y+20,d.from="top",d.layoutExpansionDirection="right",d.max_per_width=120,d.levelDistance="100,100,100,120,120,120,120,120"),e==="my-group-5"&&(d.layoutExpansionDirection="top",d.from="left",t.x=r.x+80),e==="my-group-6"&&(d.layoutExpansionDirection="bottom",d.from="left",t.x=r.x+80);const y=A.createLayout(d,l.options,l);y.isMainLayouer=!1,y.layoutOptions.fixedRootNode=!0,await y.placeNodes(n,t),e==="my-group-2"&&(h.current=C(n)),e==="my-group-6"&&(b.current=C(n)),e==="my-group-4"&&l.updateElementLines()},C=e=>{const a=e.filter(o=>o.lot.level<3&&D.RGNodesAnalytic.isAllowShowNode(o)).sort((o,c)=>o.y-c.y);return a[a.length-1].y},w=(e,a)=>{console.log("onNodeClick:",e)},P=(e,a,l)=>{console.log("onLineClick:",e)},M=(e,a)=>{console.log("onNodeExpand:"),v(e)},E=(e,a)=>{console.log("onNodeCollapse:"),v(e)},v=async e=>{e.data.myGroupId==="my-group-2"&&(await s("my-group-2","b"),await s("my-group-3","c")),e.data.myGroupId==="my-group-3"&&await s("my-group-3","c"),e.data.myGroupId==="my-group-4"&&await s("my-group-4","d"),e.data.myGroupId==="my-group-6"&&(await s("my-group-6","f"),await s("my-group-4","d"))};return i("div",{children:i("div",{style:{height:"100vh"},children:i(R,{ref:u,options:{debug:!1,layout:{layoutName:"fixed"},defaultPolyLineRadius:10,defaultNodeFontColor:"#333333",allowShowRefreshButton:!1,defaultNodeShape:1,defaultLineShape:3,defaultJunctionPoint:"ltrb",defaultNodeBorderWidth:0,defaultLineColor:"rgba(0, 186, 189, 0.7)",defaultNodeColor:"rgba(0, 206, 209, 0.7)"},onNodeClick:w,onLineClick:P,onNodeExpand:M,onNodeCollapse:E,nodeSlot:U,canvasPlugSlot:()=>{var e;return p("div",{children:[i("div",{style:{position:"absolute",left:"0px",top:"-100px",width:"530px",textAlign:"center"},children:i("h1",{children:"Chip Design Industry Panorama"})}),i("div",{style:{position:"absolute",left:"0px",top:"0px"},children:p("div",{className:"ic-bg",children:[p("div",{children:[i("div",{className:"ic-group-header",children:i("div",{className:"ic-group-name",style:{backgroundColor:"#f4f4f4"},children:"Upstream"})}),p("div",{className:"ic-group-body",style:{backgroundColor:"#f4f4f4"},children:[i("div",{id:"root-for-my-group-1",className:"ic-group-item",style:{backgroundColor:"#457aed"},children:"Raw Materials"}),i("div",{id:"root-for-my-group-2",className:"ic-group-item",style:{backgroundColor:"#457aed"},children:"Components"})]})]}),p("div",{children:[i("div",{className:"ic-group-header",children:i("div",{className:"ic-group-name",style:{backgroundColor:"#fff7e6"},children:"Midstream"})}),p("div",{className:"ic-group-body",style:{backgroundColor:"#fff7e6"},children:[i("div",{id:"root-for-my-group-3",className:"ic-group-item",style:{backgroundColor:"#f6a944"},children:"R&D Design"}),i("div",{id:"root-for-my-group-4-fake",className:"ic-group-item",style:{backgroundColor:"#f6a944"},children:"Production"})]})]}),p("div",{children:[i("div",{className:"ic-group-header",children:i("div",{className:"ic-group-name",style:{backgroundColor:"#f6faee"},children:"Downstream"})}),p("div",{className:"ic-group-body",style:{backgroundColor:"#f6faee"},children:[i("div",{id:"root-for-my-group-5",className:"ic-group-item",style:{backgroundColor:"#6cc896"},children:"Application"}),i("div",{id:"root-for-my-group-6",className:"ic-group-item",style:{backgroundColor:"#6cc896"},children:"MRO"})]})]})]})}),i("div",{id:"root-for-my-group-4",style:{position:"absolute",width:"8px",height:"8px",borderRadius:"50%",border:"#f6a944 solid 1px",left:"261px",top:((e=g.current)==null?void 0:e.y)+"px"}})]})}})})})},U=({node:u})=>{var g;return i("div",{children:((g=u.data)==null?void 0:g.myGroupId)==="my-group-4"?i("div",{className:"my-group-4 c-valign-center",children:u.text}):i("div",{className:"c-valign-center",children:u.text})})};export{q as default};
