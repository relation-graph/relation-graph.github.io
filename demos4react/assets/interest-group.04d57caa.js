import{r as t,a as o,j as l,F as v}from"./index.7473cb17.js";import{u as N}from"./relation-graph.26f01d58.js";import{I as y}from"./index.e712a3dd.js";const k=()=>{const c=t.exports.useRef(null),r=t.exports.useRef(""),p=t.exports.useRef(""),[u,f]=t.exports.useState([]),[d,g]=t.exports.useState([]),G={debug:!1,allowSwitchLineShape:!0,allowSwitchJunctionPoint:!0,allowShowDownloadButton:!0,defaultJunctionPoint:"border",placeOtherNodes:!1,placeSingleNode:!1,graphOffset_x:-400,graphOffset_y:-200,layout:{layoutName:"fixed"}},x=async()=>{f([{groupId:"a",groupName:"Sports Group",location:{x:260,y:300}},{groupId:"b",groupName:"Music Group",location:{x:350,y:100}},{groupId:"c",groupName:"Arts and Crafts Group",location:{x:180,y:40}},{groupId:"d",groupName:"Literature Reading Group",location:{x:430,y:200}},{groupId:"e",groupName:"Volunteer Group",location:{x:530,y:130}},{groupId:"f",groupName:"Science Research Group",location:{x:600,y:240}}]),g([{name:"Tom",joinedGroups:["a","c","d"]},{name:"Emma",joinedGroups:["b","e","f"]},{name:"Liam",joinedGroups:["a","b","d"]},{name:"Olivia",joinedGroups:["c","e","f"]},{name:"Noah",joinedGroups:["a","c","e","f"]},{name:"Ava",joinedGroups:["b","d"]},{name:"Sophia",joinedGroups:["c","e"]},{name:"Jackson",joinedGroups:["a","b","d","f"]},{name:"Isabella",joinedGroups:["c","e"]},{name:"Lucas",joinedGroups:["a","b","f"]},{name:"Mia",joinedGroups:["c","d"]},{name:"Jacob",joinedGroups:["a","e"]},{name:"Charlotte",joinedGroups:["b","d","f"]},{name:"Ethan",joinedGroups:["c","e","f"]},{name:"Amelia",joinedGroups:["a","b","d"]}])},I=async()=>{var n;await x();const e=(n=c.current)==null?void 0:n.getInstance();e&&(e.addNodes([{id:"startNode",text:"",opacity:0,x:-300,y:-300},{id:"endNode",text:"",opacity:0,x:700,y:700}]),setTimeout(()=>{m("a")},200))},m=e=>{var s;p.current="",r.current=e;const n=[];d.forEach(i=>{i.joinedGroups.includes(r.current)&&n.push({from:"member-"+i.name,to:"group-"+r.current,color:"rgba(29,169,245,0.76)",lineShape:6})}),n.push({from:"group-"+e,to:"location-"+e,color:"rgba(159,23,227,0.65)",lineWidth:3,lineShape:5,animation:2});const a=(s=c.current)==null?void 0:s.getInstance();a&&(a.clearElementLines(),a.addElementLines(n))},b=e=>{var s,i;r.current="",p.current=e;const n=[];(s=d.find(h=>h.name===e))==null||s.joinedGroups.forEach(h=>{n.push({from:"member-"+e,to:"group-"+h,color:"rgba(159,23,227,0.65)",lineShape:6})});const a=(i=c.current)==null?void 0:i.getInstance();a&&(a.clearElementLines(),a.addElementLines(n))};return t.exports.useEffect(()=>{I()},[]),t.exports.useEffect(()=>{},[u,d]),o("div",{children:o("div",{className:"h-screen",children:o(N,{ref:c,options:G,canvasPlugSlot:()=>l(v,{children:[o("div",{style:{zIndex:1,position:"absolute",left:-700,top:100,height:800,width:800,backgroundImage:"url('https://www.relation-graph.com/images/school-map.png')",backgroundRepeat:"no-repeat",opacity:.6}}),o("div",{style:{zIndex:2,position:"absolute",left:-700,top:100,height:800,width:800},children:o("div",{className:"relative",children:u.map(e=>o("div",{id:`location-${e.groupId}`,className:`c-i-location ${r.current===e.groupId?"c-i-location-active":""}`,style:{left:e.location.x+"px",top:e.location.y+"px"},onClick:()=>m(e.groupId),children:o("span",{children:o(y,{name:"location_on"})})},e.groupId))})}),l("div",{className:"w-72 absolute top-0 z-10",style:{left:"200px"},children:[o("div",{children:"Interest Groups"}),o("div",{children:u.map(e=>o("div",{id:`group-${e.groupId}`,className:`c-i-group ${r.current===e.groupId?"c-i-group-checked":""}`,onClick:()=>m(e.groupId),children:o("div",{className:"c-i-name",children:e.groupName})},e.groupId))})]}),l("div",{className:"w-72 absolute top-0 z-20",style:{left:"800px"},children:[o("div",{children:"Class Members"}),o("div",{children:d.map(e=>l("div",{id:`member-${e.name}`,className:`c-i-member ${p.current===e.name?"c-i-member-checked":""}`,onClick:()=>b(e.name),children:[o("div",{className:"c-i-name",children:e.name}),o("div",{className:"text-xs",children:"Joined:"}),o("div",{className:"c-i-count",children:e.joinedGroups.length})]},e.name))})]})]})})})})};export{k as default};
