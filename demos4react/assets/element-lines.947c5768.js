import{r as o,a as t,j as p,F as f}from"./index.7473cb17.js";import{u as x}from"./relation-graph.26f01d58.js";import{I}from"./index.e712a3dd.js";const w=()=>{const n=o.exports.useRef(null),r=o.exports.useRef(""),d=o.exports.useRef(""),[i,u]=o.exports.useState([]),h={debug:!1,allowSwitchLineShape:!0,allowSwitchJunctionPoint:!0,allowShowDownloadButton:!0,defaultJunctionPoint:"border",placeOtherNodes:!1,placeSingleNode:!1,graphOffset_x:-400,graphOffset_y:-200,layout:{layoutName:"fixed"}},m=async()=>{u([{groupId:"a",groupName:"Sports Group",location:{x:260,y:300}},{groupId:"b",groupName:"Music Group",location:{x:350,y:100}},{groupId:"c",groupName:"Arts and Crafts Group",location:{x:180,y:40}},{groupId:"d",groupName:"Literature Reading Group",location:{x:430,y:200}},{groupId:"e",groupName:"Volunteer Group",location:{x:530,y:130}},{groupId:"f",groupName:"Science Research Group",location:{x:600,y:240}}])},g=async()=>{var a;await m();const e=(a=n.current)==null?void 0:a.getInstance();e&&(e.addNodes([{id:"startNode",text:"",opacity:0,x:-300,y:-300},{id:"endNode",text:"",opacity:0,x:700,y:700}]),setTimeout(()=>{c("a")},200))},c=e=>{var l;d.current="",r.current=e;const a=[];a.push({from:"group-"+e,to:"location-"+e,color:"rgba(159,23,227,0.65)",lineWidth:3,lineShape:5,animation:2});const s=(l=n.current)==null?void 0:l.getInstance();s&&(s.clearElementLines(),s.addElementLines(a))};return o.exports.useEffect(()=>{g()},[]),o.exports.useEffect(()=>{},[i]),t("div",{children:t("div",{className:"h-screen",children:t(x,{ref:n,options:h,canvasPlugSlot:()=>p(f,{children:[t("div",{style:{zIndex:1,position:"absolute",left:-700,top:100,height:800,width:800,backgroundImage:"url('https://www.relation-graph.com/images/school-map.png')",backgroundRepeat:"no-repeat",opacity:.6}}),t("div",{style:{zIndex:2,position:"absolute",left:-700,top:100,height:800,width:800},children:t("div",{className:"relative",children:i.map(e=>t("div",{id:`location-${e.groupId}`,className:`c-i-location ${r.current===e.groupId?"c-i-location-active":""}`,style:{left:e.location.x+"px",top:e.location.y+"px"},onClick:()=>c(e.groupId),children:t("span",{children:t(I,{name:"location_on"})})},e.groupId))})}),p("div",{className:"w-72 absolute top-0 z-10",style:{left:"200px"},children:[t("div",{children:"Interest Groups"}),t("div",{children:i.map(e=>t("div",{id:`group-${e.groupId}`,className:`c-i-group ${r.current===e.groupId?"c-i-group-checked":""}`,onClick:()=>c(e.groupId),children:t("div",{className:"c-i-name",children:e.groupName})},e.groupId))})]})]})})})})};export{w as default};
