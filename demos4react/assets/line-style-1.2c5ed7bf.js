import{r,a as t,j as u}from"./index.7473cb17.js";import{u as I}from"./relation-graph.26f01d58.js";/* empty css                    */const m=({data:s,onChange:l,currentValue:c})=>t("div",{className:"flex rounded-lg border border-gray-900 overflow-hidden",children:s.map(n=>t("div",{className:`h-8 leading-8 w-auto px-3 text-xs cursor-pointer whitespace-nowrap ${c===n.value&&"bg-gray-900 text-white"}`,onClick:()=>{l(n.value,n.text)},children:n.text},n.value))}),D=()=>{const s=r.exports.useRef(null),l=r.exports.useRef(null),c=r.exports.useRef(null),[n,y]=r.exports.useState(""),[d,S]=r.exports.useState(2),[P,N]=r.exports.useState(""),C={backgrounImageNoRepeat:!0,moveToCenterWhenRefresh:!0,zoomToFitWhenRefresh:!0,placeOtherGroup:!0,defaultJunctionPoint:"lr",defaultNodeWidth:150,defaultNodeHeight:30,defaultLineWidth:4,defaultLineShape:2,lineUseTextPath:!0,layout:{label:"Center",layoutName:"tree",from:"left",layoutClassName:"seeks-layout-center"}},L=async()=>{var a;const e={rootId:"2",nodes:[{id:"2",text:"ALTXX"},{id:"3",text:"CH2 TTN"},{id:"4",text:"CH1 AlCu"},{id:"5",text:"MainFrame"},{id:"14",text:"ArHigh"},{id:"15",text:"ArLow"},{id:"20",text:"N2"},{id:"22",text:"Cool Chbr"},{id:"24",text:"Alignment Unit"}],lines:[{from:"2",to:"5"},{from:"2",to:"3"},{from:"2",to:"4"},{from:"3",to:"20"},{from:"4",to:"15"},{from:"4",to:"14"},{from:"5",to:"24"},{from:"5",to:"22"}]};e.lines.forEach(i=>{i.showEndArrow=!1,i.text="Line Text"});const o=(a=s.current)==null?void 0:a.getInstance();if(o){await o.setJsonData(e);const i=o.getLinks()[0];p(i.relations[0],i),h()}},h=()=>{var o;if(!l.current)return;console.log("updateMyAnimation:");const e=(o=s.current)==null?void 0:o.getInstance();e&&(e.options.defaultLineShape=d,e.dataUpdated(),setTimeout(()=>{f(l.current,c.current)},300))},b=()=>{console.log("onNodeDragEnd:"),h()},p=(e,o,a)=>{console.log("onLineClick:",e,o),l.current=e,c.current=o,f(e)},f=(e,o)=>{var i,g;console.log("playAnimation:",e);const a=(i=s.current)==null?void 0:i.getInstance();if(a){const x=`${a.options.instanceId}-${e.id}`;console.log("linePathRefId:",x);const v=(g=document.getElementById(x))==null?void 0:g.getAttribute("d");console.log("linePath:",v,e),N(`path("${v}")`)}};return r.exports.useEffect(()=>{L()},[]),r.exports.useEffect(()=>{h()},[n,d]),t("div",{children:t("div",{style:{height:"100vh"},children:t(I,{ref:s,options:C,onLineClick:p,onNodeDragEnd:b,graphPlugSlot:()=>t("div",{children:u("div",{className:"c-my-panel",children:[u("div",{className:"c-option-name",style:{lineHeight:"20px"},children:["Please try clicking on the line or the text of the line to change the selected line, or try changing the shape of the line or moving the node's position.",t("br",{}),"Please try clicking on the line or the text of the line to change the selected line, or try changing the shape of the line or moving the node's position."]}),u("div",{children:[t("div",{className:"c-option-name",children:"Line Shape:"}),t(m,{data:[{value:1,text:"Shape 1"},{value:2,text:"Shape 2"},{value:4,text:"Shape 4"},{value:5,text:"Shape 5"},{value:6,text:"Shape 6"}],onChange:(a,i)=>{S(a)},currentValue:d}),t("div",{className:"c-option-name",children:"Div position on line:"}),t(m,{data:[{value:"",text:"move"},{value:"0%",text:"0%"},{value:"20%",text:"20%"},{value:"50%",text:"50%"},{value:"70%",text:"70%"}],onChange:(a,i)=>{y(a)},currentValue:n})]})]})}),children:t("div",{className:`div-on-line ${n!==""?"div-on-line-stoped":""}`,style:{offsetPath:P,offsetDistance:n!==""?n:void 0},children:t("div",{className:"absolute w-12 h-12 px-2 py-2 border border-red-500 text-red-500 rounded-lg text-center text-xs bg-red-200 z-50",children:"H5 DIV"})})})})})};export{D as default};
