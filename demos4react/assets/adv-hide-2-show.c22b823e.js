import{r as a,j as r,a as t}from"./index.7473cb17.js";import{u}from"./relation-graph.26f01d58.js";import{MySelector as m}from"./RGComponentsForDemo.afa6e56e.js";const v=()=>{const s=a.exports.useRef(null),[l,n]=a.exports.useState(!0),[c,d]=a.exports.useState(!1),[e,h]=a.exports.useState("basic"),b={layout:{layoutName:"tree",from:"left",max_per_width:"300",min_per_height:"40"},defaultExpandHolderPosition:"right",defaultNodeShape:1,defaultNodeWidth:100,defaultLineShape:4,defaultJunctionPoint:"lr",defaultNodeBorderWidth:0,defaultLineColor:"rgba(0, 186, 189, 1)",defaultNodeColor:"rgba(0, 206, 209, 1)"},f=async()=>{const o={rootId:"a",nodes:[{id:"a",text:"a"},{id:"b",text:"b"},{id:"b1",text:"b1"},{id:"b1-1",text:"b1-1"},{id:"b1-2",text:"b1-2"},{id:"b1-3",text:"b1-3"},{id:"b1-4",text:"b1-4"},{id:"b1-5",text:"b1-5"},{id:"b1-6",text:"b1-6"},{id:"b2",text:"b2"},{id:"b2-1",text:"b2-1"},{id:"b2-2",text:"b2-2"},{id:"c",text:"c"},{id:"c1",text:"c1"},{id:"c2",text:"c2"},{id:"c3",text:"c3"}],lines:[{from:"a",to:"b"},{from:"b",to:"b1"},{from:"b1",to:"b1-1"},{from:"b1",to:"b1-2"},{from:"b1",to:"b1-3"},{from:"b1",to:"b1-4"},{from:"b1",to:"b1-5"},{from:"b1",to:"b1-6"},{from:"b",to:"b2"},{from:"b2",to:"b2-1"},{from:"b2",to:"b2-2"},{from:"a",to:"c"},{from:"c",to:"c1"},{from:"c",to:"c2"},{from:"c",to:"c3"}]},i=s.current.getInstance();await i.setJsonData(o),await i.refresh(),n(!1)},p=()=>{console.log("this.activeTabName:",e),e==="graph"&&(c||(d(!0),setTimeout(()=>{f()},1e3)))};return a.exports.useEffect(()=>{p()},[e]),r("div",{children:[r("div",{className:"c-my-panel w-96 rounded-lg absolute left-20 top-20 z-20 p-4 bg-white border-solid border-2 border-black shadow-lg",children:["This example will help you deal with a scenario where the graph is not displayed by default and is only displayed after clicking on an action (such as a button or tab). This requires special handling to avoid display issues (such as nodes not showing or lines being messy). The main logic for handling this is as follows:",t("div",{children:"For example, when you click on button A to display the graph, you need to call the graph's refresh() method using this.$nextTick() after displaying the graph by clicking on button A. This will ensure that the graph is displayed correctly. Please refer to the code in the current demo for more details."})]}),t(m,{data:[{value:"basic",text:"Basic Info"},{value:"graph",text:"Graph"},{value:"warning",text:"Warning Info"}],currentValue:e,onChange:(o,i)=>{h(o)}}),e==="basic"&&t("div",{className:"bg-green-100 flex justify-center place-items-center text-4xl",style:{height:"calc(100vh - 40px)"},children:"Basic Information"}),t("div",{className:"bg-red-100 justify-center place-items-center",style:{display:e==="graph"?"block":"none"},children:r("div",{style:{height:"calc(100vh - 40px)"},children:[l&&t("div",{className:"h-full bg-yellow-100 flex justify-center place-items-center text-4xl",children:"Loading..."}),t(u,{ref:s,options:b})]})}),e==="warning"&&t("div",{className:"bg-yellow-100 flex justify-center place-items-center text-4xl",style:{height:"calc(100vh - 40px)"},children:"Risk Information"})]})};export{v as default};
