import{_ as T}from"./VipToolbarTooltipsMyToolbar.vue_vue_type_script_setup_true_lang-db05b68b.js";import{M as C}from"./relation-graph-28379630.js";import{s as u}from"./CircumIcons-4c48e1a7.js";import{d as M,r as l,o as I,a,c as s,b as g,e as p,w as x,u as r,l as _,h as y,n as B,t as A,q as E,m as D}from"./index-f7176e57.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const N=M({__name:"toolbar-tooltips",setup(O){const b={useAnimationWhenRefresh:!1,allowShowFullscreenMenu:!1,allowShowZoomMenu:!1,allowAutoLayoutIfSupport:!1,allowShowRefreshButton:!1,allowShowDownloadButton:!1,lineTextMaxLength:6,multiLineDistance:20,lineUseTextPath:!0,defaultLineShape:6,defaultLineTextOffset_y:-2},i=l(!1),m=l(!1),c=l({x:0,y:0}),d=l({text:""}),w=()=>{const e={rootId:"a",nodes:[{id:"a",text:"A",borderColor:"yellow"},{id:"b",text:"B",color:"#43a2f1",fontColor:"yellow"},{id:"c",text:"C",nodeShape:1,width:120,height:80},{id:"e",text:"E",nodeShape:0,width:150,height:150}],lines:[{from:"a",to:"b",text:"关系1关系1关系1关系1关系1关系1关系1关系1关系1关系1关系1关系1",color:"#43a2f1"},{from:"a",to:"b",text:"关系2关系2关系2关系2",color:"#43a2f1"},{from:"a",to:"b",text:"关系3关系3关系3关系3关系3关系3关系3关系3关系3",color:"#43a2f1"},{from:"a",to:"b",text:"关系3关系3关系3关系3关系3关系3关系3关系3关系3",color:"#43a2f1"},{from:"a",to:"b",text:"关系4",color:"#43a2f1"},{from:"a",to:"c",text:"1关系2关系2关系2关系2关系2",lineShape:1},{from:"a",to:"c",text:"2关系2关系2关系2关系2关系2",lineShape:1},{from:"a",to:"c",text:"3关系2关系2关系2关系2关系2",lineShape:1},{from:"a",to:"c",text:"4关系2关系2关系2关系2关系2",lineShape:1},{from:"a",to:"e",text:"关系3",lineShape:7},{from:"a",to:"e",text:"关系3",lineShape:7},{from:"a",to:"e",text:"关系3",lineShape:7},{from:"a",to:"e",text:"关系3",lineShape:7},{from:"c",to:"e",text:"",color:"#67C23A",lineShape:8,fromJunctionPoint:"left",showEndArrow:!1}]};f.value.setJsonData(e,()=>{})},h=e=>{e==="favo"?i.value=!i.value:alert(e)},S=e=>{const t=f.value.getInstance().isLink(e.target);console.log("onMouseMove:",e.x,e.y,t),t?(k(e,t),m.value=!0):m.value=!1},k=(e,o)=>{const t=f.value.getInstance();console.log("showLineTips:",e.clientX,e.clientY,d.value);const n=t.options.fullscreen?{x:0,y:0}:t.getBoundingClientRect();c.value.x=e.clientX-n.x+10,c.value.y=e.clientY-n.y+10;const L=v(e.target);d.value=o.relations[L]},f=l(null);I(()=>{w()});const v=(e,o=0)=>{var t;return o>10||e.tagName==="body"?-1:(t=e.parentElement)!=null&&t.classList.contains("rel-link-peel")?Array.from(e.parentElement.children).indexOf(e):v(e.parentElement,o+1)};return(e,o)=>{const t=D("tooltip");return a(),s("div",null,[g("div",{style:{height:"calc(100vh - 60px)"},onMousemove:S},[p(r(C),{ref_key:"graphRef",ref:f,options:b},{"tool-bar":x(()=>[p(T,null,{default:x(()=>[_((a(),s("div",{class:"c-mb-button",onClick:o[0]||(o[0]=n=>h("favo"))},[i.value?(a(),y(r(u),{key:0,class:"rg-icon",name:"star",style:{color:"#df7f03"}})):(a(),y(r(u),{key:1,class:"rg-icon",name:"star"}))])),[[t,i.value?"已收藏":"点击收藏",void 0,{left:!0}]]),_((a(),s("div",{class:"c-mb-button",onClick:o[1]||(o[1]=n=>h("aaa2"))},[p(r(u),{class:"rg-icon",name:"router"})])),[[t,"分享",void 0,{left:!0}]]),_((a(),s("div",{class:"c-mb-button",onClick:o[2]||(o[2]=n=>h("aaa3"))},[p(r(u),{class:"rg-icon",name:"settings"})])),[[t,"帮助说明",void 0,{left:!0}]])]),_:1})]),"graph-plug":x(()=>[m.value?(a(),s("div",{key:0,class:"c-tips",style:B({left:c.value.x+"px",top:c.value.y+"px"})},[g("div",null,A(d.value.text),1)],4)):E("",!0)]),_:1},512)],32)])}}});const j=R(N,[["__scopeId","data-v-07b22757"]]);export{j as default};
