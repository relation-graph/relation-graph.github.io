import{M as g}from"./relation-graph-11dba7f5.js";import{d as _,r as i,o as N,a as y,c as I,b as n,e as m,w as h,u as w,n as k,t as E,i as A}from"./index-358d0f07.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";const O={style:{height:"calc(100vh - 60px)"}},L={class:"c-option-name"},V=_({__name:"graph-angle-offset",setup(b){const l=i(),s=i(!1),d=i(90),x={debug:!1,graphOffset_x:0,graphOffset_y:0,layout:{layoutName:"center",startAngle:d.value}};N(()=>{c()});const c=async()=>{const e={rootId:"2",nodes:[{id:"2",text:"Node-2"},{id:"9",text:"Node-9"}],lines:[{from:"2",to:"9",text:"Executive"}]},t=l.value.getInstance();await t.setJsonData(e),await t.playShowEffect()},r=async()=>{s.value=!0;const e=l.value.getInstance();e.layouter.layoutOptions.startAngle=d.value,await e.doLayout(),s.value=!1},f=async e=>{d.value+=e,await r()},u=async()=>{s.value=!0;const e=l.value.getInstance(),t=p.find(a=>{if(!a.added&&e.getNodes().some(o=>o.id===a.from||o.id===a.to))return!0});if(t){t.added=!0;const a=[];v.forEach(o=>{(o.id===t.from||o.id===t.to)&&(o.added||(o.added=!0,a.push(o)))}),e.addNodes(a),e.addLines([t]),await e.doLayout()}s.value=!1},v=[{id:"1",text:"Node-1"},{id:"3",text:"Node-3"},{id:"4",text:"Node-4"},{id:"6",text:"Node-6"},{id:"7",text:"Node-7"},{id:"8",text:"Node-8"},{id:"71",text:"Node-71"},{id:"72",text:"Node-72"},{id:"73",text:"Node-73"},{id:"81",text:"Node-81"},{id:"82",text:"Node-82"},{id:"83",text:"Node-83"},{id:"84",text:"Node-84"},{id:"85",text:"Node-85"},{id:"91",text:"Node-91"},{id:"92",text:"Node-82"},{id:"51",text:"Node-51"},{id:"52",text:"Node-52"},{id:"53",text:"Node-53"},{id:"54",text:"Node-54"},{id:"55",text:"Node-55"},{id:"5",text:"Node-5"}],p=[{from:"1",to:"2",text:"Investment"},{from:"3",to:"1",text:"Executive"},{from:"4",to:"2",text:"Executive"},{from:"6",to:"2",text:"Executive"},{from:"7",to:"2",text:"Executive"},{from:"1",to:"5",text:"Investment"},{from:"7",to:"71",text:"Investment"},{from:"7",to:"72",text:"Investment"},{from:"7",to:"73",text:"Investment"},{from:"8",to:"81",text:"Investment"},{from:"8",to:"82",text:"Investment"},{from:"8",to:"83",text:"Investment"},{from:"8",to:"84",text:"Investment"},{from:"8",to:"85",text:"Investment"},{from:"9",to:"91",text:"Investment"},{from:"9",to:"92",text:"Investment"},{from:"5",to:"51",text:"Investment1"},{from:"5",to:"52",text:"Investment"},{from:"5",to:"53",text:"Investment3"},{from:"5",to:"54",text:"Investment4"},{from:"5",to:"55",text:"Investment"}];return(e,t)=>{const a=A("el-slider");return y(),I("div",null,[n("div",O,[m(w(g),{ref_key:"graphRef",ref:l,options:x},{"graph-plug":h(()=>[n("div",{class:"c-my-panel",style:k({pointerEvents:s.value?"node":void 0,opacity:s.value?.5:1})},[n("div",L,"角度偏移:"+E(d.value),1),m(a,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),min:0,max:360,step:5,style:{width:"200px"},"show-tooltip":!0,onChange:r},null,8,["modelValue"]),n("div",null,[n("a",{class:"c-my-link",onClick:t[1]||(t[1]=o=>f(5))},"顺时针旋转5度")]),n("div",null,[n("a",{class:"c-my-link",onClick:t[2]||(t[2]=o=>f(-5))},"逆时针旋转5度")]),n("div",null,[n("a",{class:"c-my-link",onClick:u},"添加一个关系")])],4)]),_:1},512)])])}}});const D=C(V,[["__scopeId","data-v-7a98232e"]]);export{D as default};
