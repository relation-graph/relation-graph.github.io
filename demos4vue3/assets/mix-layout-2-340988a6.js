import{v as U,k as L,C as B}from"./relation-graph-4b768e87.js";import{d as q,r as g,o as T,a as _,c as S,b as e,e as F,w,u as $,n as j,t as H,q as I,p as J,j as O}from"./index-ee818b67.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";const P=u=>(J("data-v-31bb2712"),u=u(),O(),u),z={style:{height:"calc(100vh - 60px)"}},W=P(()=>e("div",{style:{position:"absolute",left:"0px",top:"-100px",width:"530px","text-align":"center"}},[e("h1",null,"Chip Design Industry Panorama")],-1)),Z=P(()=>e("div",{style:{position:"absolute",left:"0px",top:"0px"}},[e("div",{class:"ic-bg"},[e("div",null,[e("div",{class:"ic-group-header"},[e("div",{class:"ic-group-name",style:{"background-color":"#f4f4f4"}},"Upstream")]),e("div",{class:"ic-group-body",style:{"background-color":"#f4f4f4"}},[e("div",{id:"root-for-my-group-1",class:"ic-group-item",style:{"background-color":"#457aed"}},"Raw Materials"),e("div",{id:"root-for-my-group-2",class:"ic-group-item",style:{"background-color":"#457aed"}},"Components")])]),e("div",null,[e("div",{class:"ic-group-header"},[e("div",{class:"ic-group-name",style:{"background-color":"#fff7e6"}},"Midstream")]),e("div",{class:"ic-group-body",style:{"background-color":"#fff7e6"}},[e("div",{id:"root-for-my-group-3",class:"ic-group-item",style:{"background-color":"#f6a944"}},"R&D Design"),e("div",{id:"root-for-my-group-4-fake",class:"ic-group-item",style:{"background-color":"#f6a944"}},"Production")])]),e("div",null,[e("div",{class:"ic-group-header"},[e("div",{class:"ic-group-name",style:{"background-color":"#f6faee"}},"Downstream")]),e("div",{class:"ic-group-body",style:{"background-color":"#f6faee"}},[e("div",{id:"root-for-my-group-5",class:"ic-group-item",style:{"background-color":"#6cc896"}},"Application"),e("div",{id:"root-for-my-group-6",class:"ic-group-item",style:{"background-color":"#6cc896"}},"MRO")])])])],-1)),K={key:0,class:"my-group-4 c-valign-center"},Q=q({__name:"mix-layout-2",setup(u){const{RGNodesAnalytic:M}=B,E={debug:!1,layouts:[{layoutName:"fixed"}],defaultPloyLineRadius:10,defaultNodeFontColor:"#333333",allowShowRefreshButton:!1,defaultNodeShape:1,defaultLineShape:3,defaultJunctionPoint:"ltrb",defaultNodeBorderWidth:0,defaultLineColor:"rgba(0, 186, 189, 0.7)",defaultNodeColor:"rgba(0, 206, 209, 0.7)"},f=g(400),h=g(400),b=g({y:0}),y=g(null);T(()=>{N()});const N=async()=>{const o=[{id:"a",text:"Raw Materials",children:[{id:"a1",text:"Composite Materials",children:[{id:"a1-1",text:"Carbon Fiber"},{id:"a1-2",text:"Metal-based"},{id:"a1-3",text:"Ceramic-based"},{id:"a1-4",text:"Resin-based"}]},{id:"a2",text:"Metal Materials",children:[{id:"a2-1",text:"Magnesium Aluminum Alloy"},{id:"a2-2",text:"Titanium Alloy"},{id:"a2-3",text:"Aerospace Steel"}]}]}],s=[{id:"b",text:"Components",children:[{id:"b1",text:"Electronic Components",children:[{id:"b1-1",text:"Passive Components",children:[{id:"b1-1-1",text:"Passive Component 1"},{id:"b1-2-2",text:"Passive Component 2"}]},{id:"b1-2",text:"Active Components",children:[{id:"b2-2-1",text:"Active Component 1"},{id:"b2-2-2",text:"Active Component 2"}]}]},{id:"b2",text:"Power Components",children:[{id:"b2-1",text:"Power Component 1"},{id:"b2-2",text:"Power Component 2"},{id:"b2-3",text:"Power Component 3"}],expanded:!1},{id:"b3",text:"Mechanical Components",children:[{id:"b3-1",text:"Mechanical Component 1"},{id:"b3-2",text:"Mechanical Component 2"},{id:"b3-3",text:"Mechanical Component 3"}],expanded:!1}]}],r=[{id:"c",text:"R&D Design",children:[{id:"c1",text:"Conceptual Design",children:[{id:"c1-1",text:"UAV System Components",children:[{id:"c1-1-1",text:"UAV Power System"},{id:"c1-1-2",text:"UAV Communication System"},{id:"c1-1-3",text:"Flight Support System"},{id:"c1-1-4",text:"Command and Control System"},{id:"c1-1-4",text:"Mission Equipment Subsystem"}]},{id:"c1-2",text:"UAV Classification",children:[{id:"c1-2-1",text:"Military UAV"},{id:"c1-2-2",text:"Civil UAV"}]},{id:"c1-3",text:"Support and Maintenance System",children:[{id:"c3-3-1",text:"Grassroots Support and Maintenance Equipment"},{id:"c3-3-2",text:"Base-level Support and Maintenance Equipment"}]}]},{id:"c2",text:"Preliminary Design"},{id:"c3",text:"Detailed Design"},{id:"c4",text:"Prototype Design"},{id:"c5",text:"Prototype Flight"},{id:"c6",text:"Mass Production Preparation"}]}],i=[{id:"d",text:"Production",children:[{id:"d1",text:"UAV System Components",children:[{id:"d1-1",text:"UAV Power System"},{id:"d1-2",text:"UAV Communication System"},{id:"d1-3",text:"Flight Support System"},{id:"d1-4",text:"Command and Control System"},{id:"d1-4",text:"Mission Equipment Subsystem"}]},{id:"d2",text:"UAV Classification",children:[{id:"d2-1",text:"Military UAV"},{id:"d2-2",text:"Civil UAV"}]},{id:"d3",text:"Support and Maintenance System",children:[{id:"d3-1",text:"Grassroots Support and Maintenance Equipment"},{id:"d3-2",text:"Base-level Support and Maintenance Equipment"}]}]}],c=[{id:"e",text:"Application",children:[{id:"e1",text:"Urban Planning"},{id:"e2",text:"Environmental Monitoring"},{id:"e3",text:"Geographic Survey"},{id:"e4",text:"Logistics and Transportation"},{id:"e5",text:"Agriculture and Forestry"},{id:"e6",text:"National Defense and Security"},{id:"e7",text:"Performances and Exhibitions"}]}],n=[{id:"f",text:"MRO",children:[{id:"f1",text:"Leasing Services"},{id:"f2",text:"Onboard Equipment Maintenance"},{id:"f3",text:"Pilot Training",expanded:!1,children:[{id:"f3-1",text:"UAV System Components",children:[{id:"f3-1-1",text:"UAV Power System"},{id:"f3-1-2",text:"UAV Communication System"},{id:"f3-1-3",text:"Flight Support System"},{id:"f3-1-4",text:"Command and Control System"},{id:"f3-1-4",text:"Mission Equipment Subsystem"}]},{id:"f3-2",text:"UAV Classification",children:[{id:"f3-2-1",text:"Military UAV"},{id:"f3-2-2",text:"Civil UAV"}]},{id:"f3-3",text:"Support and Maintenance System",children:[{id:"f3-3-1",text:"Grassroots Support and Maintenance Equipment"},{id:"f3-3-2",text:"Base-level Support and Maintenance Equipment"}]}]},{id:"f4",text:"Route Maintenance"}]}],a={rootId:"my-root",nodes:[{id:"my-root",text:"Root Node",opacity:0}],lines:[],elementLines:[{from:"root-for-my-group-4-fake",to:"root-for-my-group-4",lineShape:1,color:"#f6a944",fromJunctionPoint:"bottom",toJunctionPoint:"top",showEndArrow:!1}]},t=y.value.getInstance();p(t,a,o,"my-group-1","a"),p(t,a,s,"my-group-2","b"),p(t,a,r,"my-group-3","c"),p(t,a,i,"my-group-4","d"),p(t,a,c,"my-group-5","e"),p(t,a,n,"my-group-6","f"),t.loading("Wait..."),await t.setJsonData(a),await t.sleep(500),await d("my-group-1","a"),await d("my-group-2","b"),await d("my-group-3","c"),await d("my-group-5","e"),await d("my-group-6","f"),await d("my-group-4","d"),await t.moveToCenter(),await t.zoomToFit(),t.clearLoading()},p=(o,s,r,i,c)=>{const n=[],a=[];o.flatNodeData(r,null,n,a),n.forEach(t=>{n.data||(t.data={}),t.data.myGroupId=i,t.junctionPoint="lr",t.id===c?(t.width=1,t.height=1,t.opacity=0):t.width=100,i==="my-group-2"&&(t.color="rgba(215,214,214,1)",t.children&&t.children.length>0&&(t.expandHolderPosition="left")),i==="my-group-3"&&(t.junctionPoint="lr",t.color="rgba(246,169,68,0.65)",t.children&&t.children.length>0&&(t.expandHolderPosition="left")),i==="my-group-4"&&(t.junctionPoint="tb",t.color="rgba(246,169,68,0.65)",t.fontColor="#333333",t.children&&t.children.length>0&&(t.expandHolderPosition="bottom")),i==="my-group-5"&&(t.junctionPoint="lr",t.color="rgba(108,200,150,0.53)"),i==="my-group-6"&&(t.junctionPoint="lr",t.color="rgba(108,200,150,0.53)",t.children&&t.children.length>0&&(t.expandHolderPosition="right")),t.children=void 0}),a.forEach(t=>{t.lineShape=4,i==="my-group-2"&&(t.color="rgba(215,214,214,1)"),i==="my-group-3"&&(t.color="rgba(246,169,68,0.65)"),i==="my-group-4"&&(t.color="rgba(246,169,68,0.65)"),i==="my-group-5"&&(t.color="rgba(108,200,150,0.53)")}),s.nodes.push(...n),s.lines.push(...a)},A=(o,s)=>{const i=document.getElementById(s).getBoundingClientRect(),c=o.$canvasDom.getBoundingClientRect(),n=(i.x-c.x)/(o.options.canvasZoom/100),a=(i.y-c.y)/(o.options.canvasZoom/100);return{x:n,y:a}},d=async(o,s)=>{const r=y.value.getInstance(),i=o,c="root-for-"+i,n=A(r,c),a=r.getNodes().filter(m=>m.data&&m.data.myGroupId===i),t=r.getNodeById(s);t.x=n.x,t.y=n.y+10;const l={layoutName:"tree",from:"right",layoutExpansionDirection:"top",max_per_width:180,max_per_height:40};o==="my-group-2"&&(l.layoutExpansionDirection="bottom"),o==="my-group-3"&&(l.from="right",l.layoutExpansionDirection="bottom",t.x=n.x+4,t.y=n.y+10,t.offset_y=t.y-f.value-80,l.max_per_width=150,l.levelDistance="170,200,200,200,200,170,170,170"),o==="my-group-4"&&(a.forEach(m=>{m.alignItems="top"}),t.x=n.x-4,t.y=h.value-20,b.value.y=t.y+20,l.from="top",l.layoutExpansionDirection="right",l.max_per_width=120,l.levelDistance="100,100,100,120,120,120,120,120"),o==="my-group-5"&&(l.layoutExpansionDirection="top",l.from="left",t.x=n.x+80),o==="my-group-6"&&(l.layoutExpansionDirection="bottom",l.from="left",t.x=n.x+80);const x=U.createLayout(l,r.options);x.isMainLayouer=!1,x.layoutOptions.fixedRootNode=!0,console.log("layoutLeft Nodes:",a.length),await x.placeNodes(a,t),o==="my-group-2"&&(f.value=v(a)),o==="my-group-6"&&(h.value=v(a)),o==="my-group-4"&&r.updateElementLines()},v=(o,s)=>{const r=o.filter(c=>c.lot.level<3&&M.isAllowShowNode(c)).sort((c,n)=>c.y-n.y);return r[r.length-1].y},D=(o,s)=>{console.log("onNodeClick:",o)},k=(o,s,r)=>{console.log("onLineClick:",o)},R=async(o,s)=>{console.log("onNodeExpand:"),await C(o)},V=async(o,s)=>{console.log("onNodeCollapse:"),await C(o)},C=async o=>{o.data.myGroupId==="my-group-2"&&(await d("my-group-2","b"),await d("my-group-3","c")),o.data.myGroupId==="my-group-3"&&await d("my-group-3","c"),o.data.myGroupId==="my-group-4"&&await d("my-group-4","d"),o.data.myGroupId==="my-group-6"&&(await d("my-group-6","f"),await d("my-group-4","d"))};return(o,s)=>(_(),S("div",null,[e("div",z,[F($(L),{ref_key:"graphRef",ref:y,options:E,"on-node-click":D,"on-line-click":k,"on-node-expand":R,"on-node-collapse":V},{"canvas-plug":w(()=>[W,Z,e("div",{id:"root-for-my-group-4",style:j([{position:"absolute",width:"8px",height:"8px","border-radius":"50%",border:"#f6a944 solid 1px"},{left:"261px",top:b.value.y+"px"}])},null,4)]),node:w(({node:r})=>[r.data.myGroupId==="my-group-4"?(_(),S("div",K,H(r.text),1)):I("",!0)]),_:1},512)])]))}});const ot=Y(Q,[["__scopeId","data-v-31bb2712"]]);export{ot as default};
