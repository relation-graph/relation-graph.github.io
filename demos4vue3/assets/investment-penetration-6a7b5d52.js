import{M as C}from"./relation-graph-de73bd62.js";import{d as L,r as x,o as k,a as r,c as l,l as E,e as I,w as N,u as P,m as M,t as f}from"./index-e1681cb0.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const j={"element-loading-text":"Loading data...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)",style:{height:"calc(100vh - 60px)"}},$={key:0,class:"my-node ex-btn"},D={key:1,class:"my-node more-btn"},A={key:2,class:"my-node my-root"},B={key:3,class:"my-node"},S=L({__name:"investment-penetration",setup(T){const g={debug:!1,lineUseTextPath:!0,useAnimationWhenExpanded:!0,layouts:[{layoutName:"tree",from:"right",min_per_width:"300",max_per_width:"300",min_per_height:"40",max_per_height:"50",enableGatherNodes:!0,levelDistance:"200,300,200,300,200,300,200,300,200,300,200,300,200,300,200,300"}],defaultNodeShape:1,defaultLineShape:4,defaultJunctionPoint:"lr",defaultNodeBorderWidth:0,defaultLineColor:"rgba(15, 71, 255)",defaultNodeFontColor:"#333333",defaultNodeColor:"transparent"},h=x(null);x(!1);const p=x(!1);k(()=>{u()});const u=async()=>{const t={rootId:"root",nodes:[{id:"root",text:"Tian Technology Co., Ltd.",offset_x:-50,data:{type:"root"}},{id:"root-invs",text:"Investment",disableDefaultClickEffect:!0,width:80,fontColor:"rgba(15, 71, 255)",expandHolderPosition:"left",expanded:!1,alignItems:"right",data:{type:"ex-btn",childrenLoaded:!1}},{id:"root-sh",text:"Share Holder",disableDefaultClickEffect:!0,width:80,fontColor:"rgba(15, 71, 255)",expandHolderPosition:"left",expanded:!1,alignItems:"left",data:{type:"ex-btn",childrenLoaded:!1}},{id:"root-history-invs",text:"Historical Investment",expandHolderPosition:"left",expanded:!1,alignItems:"left",data:{type:"ex-btn",iconToRight:!0,childrenLoaded:!1}}],lines:[{from:"root",to:"root-invs",showEndArrow:!1},{from:"root-sh",to:"root",showEndArrow:!1},{from:"root-history-invs",to:"root",showEndArrow:!1}]},o=h.value.getInstance();await o.setJsonData(t,!0),await o.playShowEffect();const n=o.getNodeById("root-invs");await o.expandNode(n)},_=(t,o)=>{console.log("onNodeClick:",t)},y=(t,o,n)=>{console.log("onLineClick:",t)},w=(t,o)=>{},v=async(t,o)=>{const n=h.value.getInstance();if(console.log("onNodeExpand:",t),t.data.childrenLoaded){console.log("The children of this node have already been loaded");return}p.value=!0,t.data.childrenLoaded=!0;const d=await b("/api/getEntInverstments",t);await n.appendJsonData(d,!0),await n.doLayout(),p.value=!1};let c=1;const a=["","Tianxing","Xingyueye","Fengyunjihui","Jinkai Binji"],b=async(t,o)=>new Promise((n,d)=>{setTimeout(function(){const e=o.id,s=o.alignItems,i=s==="left"?-100:100;if(o.data.type==="ex-btn"){const m={nodes:[{id:e+"-c1",text:`Beijing ${a[Math.floor(Math.random()*a.length)]} Company ${c++}`,expandHolderPosition:"left",expanded:!1,alignItems:s,offset_x:i,data:{childrenLoaded:!1}},{id:e+"-c2",text:`Beijing ${a[Math.floor(Math.random()*a.length)]} Company ${c++}`,expandHolderPosition:"left",expanded:!1,alignItems:s,offset_x:i,data:{childrenLoaded:!1}},{id:e+"-more",text:"Show More(5)",alignItems:s,offset_x:i,data:{type:"more-btn",childrenLoaded:!1}}],lines:[{from:e,to:e+"-c1"},{from:e,to:e+"-c2"},{from:e,to:e+"-more"}]};n(m)}else{const m={nodes:[{id:e+"-invs",text:"Investment",disableDefaultClickEffect:!0,width:80,fontColor:"rgba(15, 71, 255)",expandHolderPosition:"left",expanded:!1,alignItems:s,data:{type:"ex-btn",childrenLoaded:!1}},{id:e+"-sh",text:"Share Holder",disableDefaultClickEffect:!0,width:80,fontColor:"rgba(15, 71, 255)",expandHolderPosition:"left",expanded:!0,alignItems:s,data:{type:"ex-btn",iconToRight:!0,childrenLoaded:!0}},{id:e+"-c1",text:`Beijing ${a[Math.floor(Math.random()*a.length)]} Company ${c++}`,expandHolderPosition:"left",expanded:!1,alignItems:s,offset_x:i,data:{childrenLoaded:!1}},{id:e+"-c2",text:`Beijing ${a[Math.floor(Math.random()*a.length)]} Company ${c++}`,expandHolderPosition:"left",expanded:!1,alignItems:s,offset_x:i,data:{childrenLoaded:!1}},{id:e+"-c3",text:`Beijing ${a[Math.floor(Math.random()*a.length)]} Company ${c++}`,expandHolderPosition:"left",expanded:!1,alignItems:s,offset_x:i,data:{childrenLoaded:!1}},{id:e+"-more",text:"Show More(5)",alignItems:s,offset_x:i,data:{type:"more-btn",childrenLoaded:!1}}],lines:[{from:e,to:e+"-invs",showEndArrow:!1},{from:e,to:e+"-sh",showEndArrow:!1},{from:e+"-sh",to:e+"-c1",showEndArrow:!1},{from:e+"-sh",to:e+"-c2",showEndArrow:!1},{from:e+"-sh",to:e+"-c3",showEndArrow:!1},{from:e+"-sh",to:e+"-more",showEndArrow:!1}]};n(m)}},1e3)});return(t,o)=>{const n=M("loading");return r(),l("div",null,[E((r(),l("div",j,[I(P(C),{ref_key:"graphRef",ref:h,options:g,"on-node-click":_,"on-line-click":y,"on-node-expand":v,"on-node-collapse":w},{node:N(({node:d})=>[d.data.type==="ex-btn"?(r(),l("div",$,f(d.text),1)):d.data.type==="more-btn"?(r(),l("div",D,f(d.text),1)):d.data.type==="root"?(r(),l("div",A,f(d.text),1)):(r(),l("div",B,f(d.text),1))]),_:1},512)])),[[n,p.value]])])}}});const G=H(S,[["__scopeId","data-v-cf9305ee"]]);export{G as default};
