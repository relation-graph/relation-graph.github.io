import{M as y}from"./relation-graph-28379630.js";import{d as f,r as g,o as F,a as m,c as _,b as v,e as C,u as w}from"./index-f7176e57.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";const S={style:{width:"calc(100% - 2px)",height:"calc(100vh - 60px)"}},E=f({__name:"layout-diy",setup(R){const p=g(null),x={backgrounImage:"",backgrounImageNoRepeat:!0,layouts:[{label:"手工",layoutName:"fixed",layoutClassName:"seeks-layout-fixed",defaultJunctionPoint:"border",defaultNodeShape:0,defaultLineShape:1}],defaultNodeBorderWidth:0,defaultNodeShape:1,defaultJunctionPoint:"lr",defaultLineShape:1};F(()=>{h()});const h=async()=>{var u;const r={entname:"小小的大米科技股份有限公司",invs:[{id:"inv1",text:"北京某个公司科技有限公司",desc:"40%"},{id:"inv2",text:"张蜈支",desc:"30%"},{id:"inv3",text:"如花",desc:"10%"},{id:"inv4",text:"路人甲",desc:"10%"},{id:"inv5",text:"路人乙",desc:"10%"}],persons:[{id:"person1",text:"张蜈支",desc:"董事长"},{id:"person2",text:"包奥曼",desc:"总经理"},{id:"person3",text:"路人甲",desc:"监事"},{id:"person4",text:"路人乙",desc:"董事"}],asInvs:[{id:"asinv1",text:"北京超级大橘科技有限公司",desc:"80%"},{id:"asinv2",text:"北京超级大蚂蚁科技有限公司",desc:"70%"},{id:"asinv3",text:"北京超级大米粒儿科技有限公司",desc:"20%"}],branchs:[{id:"branch1",text:"某个公司（北京）科技股份有限公司",desc:"80%"},{id:"branch2",text:"某个公司（天津）科技股份有限公司",desc:"70%"},{id:"branch4",text:"某个公司（成都）科技股份有限公司",desc:"70%"},{id:"branch5",text:"某个公司（武汉）科技股份有限公司",desc:"20%"}]},t={x:0,y:0},o={rootId:"root",nodes:[],lines:[]},c={id:o.rootId,text:r.entname,styleClass:"c-g-center",color:"#A4C1FF",width:250,height:50,x:t.x-125,y:t.y-25},s={id:"invRoot",text:"股东",expandHolderPosition:"left",styleClass:"c-g-group-node",color:"#FFC5A6",width:100,height:50},n={id:"personRoot",text:"高管",expandHolderPosition:"left",styleClass:"c-g-group-node",color:"#B9FFA7",width:100,height:50},a={id:"asinvRoot",text:"对外投资",expandHolderPosition:"right",styleClass:"c-g-group-node",color:"#FFBEC1",width:100,height:50},d={id:"branchRoot",text:"分支机构",expandHolderPosition:"right",styleClass:"c-g-group-node",color:"#FFA1F8",width:100,height:50};s.x=t.x-200-s.width,s.y=t.y-130,n.x=t.x-200-n.width,n.y=t.y+90,a.x=t.x+200,a.y=t.y-130,d.x=t.x+200,d.y=t.y+90,o.nodes.push(c),o.nodes.push(s),o.nodes.push(n),o.nodes.push(a),o.nodes.push(d),o.lines.push({from:c.id,to:s.id,styleClass:"c-g-l-group",color:"#C7E9FF",lineShape:2}),o.lines.push({from:c.id,to:n.id,styleClass:"c-g-l-group",color:"#C7E9FF",lineShape:2}),o.lines.push({from:c.id,to:a.id,styleClass:"c-g-l-group",color:"#C7E9FF",lineShape:2}),o.lines.push({from:c.id,to:d.id,styleClass:"c-g-l-group",color:"#C7E9FF",lineShape:2}),r.invs.forEach((e,i)=>{e.width=200,e.x=s.x-300-e.width,e.y=s.y+i*30*-1+30,o.nodes.push(e),o.lines.push({from:s.id,to:e.id,text:e.desc,color:"#FFC5A6",arrow:"none",lineShape:4})}),r.persons.forEach((e,i)=>{e.width=200,e.x=n.x-200-e.width,e.y=n.y+i*30,o.nodes.push(e),o.lines.push({from:n.id,to:e.id,text:e.desc,color:"#B9FFA7",arrow:"none",lineShape:4})}),r.asInvs.forEach((e,i)=>{e.x=a.x+200,e.y=a.y+i*30*-1+30,e.styleClass="my-node-class",o.nodes.push(e),o.lines.push({from:a.id,to:e.id,text:e.desc,color:"#FFBEC1",lineShape:4})}),r.branchs.forEach((e,i)=>{e.x=d.x+200,e.y=d.y+i*30,e.styleClass="my-node-class",o.nodes.push(e),o.lines.push({from:d.id,to:e.id,text:e.desc,color:"#FFA1F8",lineShape:4})});const l=(u=p.value)==null?void 0:u.getInstance();l&&(await l.setJsonData(o),await l.moveToCenter(),await l.zoomToFit())};return(r,t)=>(m(),_("div",null,[v("div",S,[C(w(y),{ref_key:"graphRef",ref:p,options:x},null,512)])]))}});const k=b(E,[["__scopeId","data-v-04b98698"]]);export{k as default};
