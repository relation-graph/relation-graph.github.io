import{M as S}from"./relation-graph-588d2e75.js";import{d as I,r as u,o as L,a as _,c as f,l as R,e as l,w as a,u as D,m as E,b as r,t as F,f as m,i as h,p as T,j as V}from"./index-e4516832.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";const v=d=>(T("data-v-07c0da58"),d=d(),V(),d),W={style:{height:"calc(100vh)"}},k={class:"my-node"},B={class:"c-my-panel"},H=v(()=>r("div",{class:"c-option-name"},"After expanding/collapsing a node:",-1)),J=v(()=>r("div",{class:"c-option-name",style:{"font-size":"12px"}},"(Refers to non-dynamically loaded content, which will definitely be re-layouted after dynamically loading content)",-1)),M=I({__name:"expand-forever",setup(d){const i=u(!0),n=u(!1),b={layouts:[{label:"Center",layoutName:"tree",from:"bottom",layoutClassName:"seeks-layout-center",defaultJunctionPoint:"border",defaultNodeShape:0,defaultLineShape:1,min_per_width:170,max_per_width:170,min_per_height:160}],defaultNodeShape:1,defaultLineShape:2,defaultJunctionPoint:"tb",defaultNodeBorderWidth:0,defaultLineColor:"rgba(0, 186, 189, 1)",defaultNodeColor:"rgba(0, 206, 209, 1)",reLayoutWhenExpandedOrCollapsed:!0,defaultExpandHolderPosition:"top",zoomToFitWhenRefresh:!0,useAnimationWhenExpanded:!0,debug:!1};L(()=>{x()});const x=async()=>{const e={rootId:"a",nodes:[{id:"a",text:"a"},{id:"b",text:"b"},{id:"b1",text:"b1"},{id:"b2",text:"b2"},{id:"b2-1",text:"b2-1",expandHolderPosition:"top",expanded:!1,data:{isNeedLoadDataFromRemoteServer:!0}},{id:"b2-2",text:"b2-2"}],lines:[{from:"a",to:"b"},{from:"b",to:"b1"},{from:"b",to:"b2"},{from:"b2",to:"b2-1"},{from:"b2",to:"b2-2"}]};n.value=!1;const o=s.value.getInstance();await o.setJsonData(e),await o.playShowEffect()},g=()=>{s.value.getInstance().options.reLayoutWhenExpandedOrCollapsed=i.value},y=(e,o)=>{},N=(e,o)=>{const t=s.value.getInstance();if(console.log("onNodeExpand:",e),!e.data.isNeedLoadDataFromRemoteServer){console.log("The children of this node do not need to load data from the remote server");return}if(e.data.childrenLoaded){console.log("The children of this node have already been loaded");return}n.value=!0,e.data.childrenLoaded=!0,w(e,async c=>{n.value=!1,await t.appendJsonData(c)})},w=(e,o)=>{setTimeout(function(){const t={nodes:[{id:e.id+"-c-1",text:"Child Node 1",expandHolderPosition:"top",expanded:!1,data:{isNeedLoadDataFromRemoteServer:!0}},{id:e.id+"-c-2",text:"Child Node 2"}],lines:[{from:e.id,to:e.id+"-c-1"},{from:e.id,to:e.id+"-c-2"}]};o(t)},1e3)},s=u();return(e,o)=>{const t=h("el-radio-button"),c=h("el-radio-group"),C=E("loading");return _(),f("div",null,[R((_(),f("div",W,[l(D(S),{ref_key:"graphRef",ref:s,options:b,onNodeExpand:N,onNodeCollapse:y},{node:a(({node:p})=>[r("div",k," My Node: "+F(p.text),1)]),"graph-plug":a(()=>[r("div",B,[H,J,l(c,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=p=>i.value=p),size:"small",onChange:g},{default:a(()=>[l(t,{label:!0},{default:a(()=>[m("Re-layout")]),_:1}),l(t,{label:!1},{default:a(()=>[m("No re-layout")]),_:1})]),_:1},8,["modelValue"])])]),_:1},512)])),[[C,n.value]])])}}});const A=P(M,[["__scopeId","data-v-07c0da58"]]);export{A as default};
