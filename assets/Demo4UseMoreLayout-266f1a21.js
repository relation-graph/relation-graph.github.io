
/**
*  亲爱的朋友：
*      很高兴你能看到这段文字，这说明你是非常热爱技术、热爱学习的。
*      组件中所有示例都可以通过文档 + typescript描述找到相关配置及用法
*      示例可以为你提供额外的灵感、方便你完成开发目标、节省你工作时间
*      以下代码也许花些时间很容易破解，但相比下面这个方案，通过破解代码来学习知识显然是不划算的：
*      https://relation-graph.com/#/vip-services
*      因为你的时间非常宝贵，开通会员直接查看代码学习、直接沟通解决问题，是最最高效的学习和工作方法，期待你的加入。
**/
              import{m as g,A as u,n as v}from"./index-a776829b.js";import{G as y}from"./GoToVipService-9ddc6f34.js";import"./relation-graph-logo-e4609733.js";import"./svg-sprites-virtual-module-d0efe676.js";import"./VipIcon-48a0c514.js";const{RGNodesAnalytic:l}=u,m={layout:{layoutName:"tree",from:"top",levelDistance:"150,200,200"},defaultLineMarker:{markerWidth:20,markerHeight:20,refX:3,refY:3,data:"M 0 0, V 6, L 4 3, Z"},graphOffset_y:300,defaultNodeColor:"#ffffff",defaultNodeShape:1,defaultLineShape:6,defaultLineWidth:3},_={name:"Demo",components:{GoToVipService:y},computed:{...g(["english"])},data(){return{currentCase:"横向树状图谱",isShowCodePanel:!1,graphOptions:m}},mounted(){this.showGraph()},methods:{isInMyContentPanel(e,o,t=0){return t>10||e.tagName==="body"?!1:e.classList.contains(o)?!0:this.isInMyContentPanel(e.parentElement,o,t+1)},showGraph:async function(){const e=this.$refs.graphRef.getInstance();e.addNodes([{id:"root",text:"",nodeShape:1,offset_y:100,data:{allowOverlap:!1}},{id:"message",text:"",nodeShape:1,color:"#1f1e18",data:{dropAble:!0},offset_y:200,styleClass:"evip-desc"},{id:"button",text:"",nodeShape:0,color:"#ffffff",width:120,height:120,borderWidth:2,styleClass:"evip-eye",borderColor:"#fc9c42",offset_x:110,offset_y:50},{id:"button2",text:"",nodeShape:0,color:"#ffffff",width:120,height:120,borderWidth:2,styleClass:"evip-eye",borderColor:"#fc9c42",offset_x:-110,offset_y:50}]),e.addLines([{from:"root",to:"message",showEndArrow:!1,fromJunctionPoint:"left",toJunctionPoint:"left",lineWidth:30,color:"rgba(252,156,66,0.28)"},{from:"root",to:"message",showEndArrow:!1,fromJunctionPoint:"right",toJunctionPoint:"right",lineWidth:30,color:"rgba(252,156,66,0.24)"},{from:"button",to:"root",lineShape:1,lineWidth:1,color:"#fc9c42",opacity:0},{from:"button2",to:"root",lineShape:1,lineWidth:1,color:"#fc9c42",opacity:0}]);for(const o of e.getNodes())o.data.orignColorSaved||(o.data.orignColorSaved=!0,o.data.orignColor=o.color);e.graphData.rootNode=e.getNodeById("root"),await e.doLayout()},onNodeDragging(e,o,t,a){const n=this.$refs.graphRef.getInstance();let r=!1,i;for(const s of n.getNodes()){if(e===s)continue;const p=e.nodeShape||n.options.defaultNodeShape||0,f=s.nodeShape||n.options.defaultNodeShape||0,h={el:e.el,x:o,y:t};if(l.shapesOverlap(h,s,p,f)){let d=s.data.dropAble?"rgb(75,145,1)":"rgba(252,189,189,0.82)";s.data.allowOverlap===!1&&(r=!0,i=l.getNoOverlapLimitedPosition(e,o,t,s),d="rgba(214,165,246,0.82)"),s.color=d}else s.color=s.data.orignColor}if(r)return i},onNodeDragStart(e,o){e.data.startX=e.x,e.data.startY=e.y},onNodeDragEnd(e,o){const t=this.$refs.graphRef.getInstance();for(const a of t.getNodes())a.color=a.data.orignColor;for(const a of t.getNodes()){if(console.log("overlap:",a.id),e===a||a.data.allowOverlap===!1||!a.data.dropAble)continue;const n=e.nodeShape||t.options.defaultNodeShape||0,r=a.nodeShape||t.options.defaultNodeShape||0,i=l.shapesOverlap(e,a,n,r);if(console.log("overlap:",a.text,i),i){this.updateNodeAsChildren(e,a);break}}},updateNodeAsChildren(e,o){console.log("updateNodeAsChildren:",o.id,"---->",e.id),e.x=e.data.startX,e.y=e.data.startY,this.$refs.graphRef.getInstance().addLines([{from:o.id,to:e.id,color:"#f39930",lineShape:1,lineWidth:3}])}}};var x=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{ref:"$container",staticStyle:{height:"calc(100vh - 100px)"}},[t("RelationGraph",{ref:"graphRef",attrs:{options:e.graphOptions,"on-node-dragging":e.onNodeDragging,"on-node-drag-start":e.onNodeDragStart,"on-node-drag-end":e.onNodeDragEnd},scopedSlots:e._u([{key:"node",fn:function(a){var n=a.node;return[n.id==="root"?t("div",{staticStyle:{width:"400px"}},[t("GoToVipService",{attrs:{"hide-message":!0,"ent-vip":!0}})],1):e._e(),n.id==="message"?t("div",{staticClass:"c-vip-desc",staticStyle:{"border-radius":"5px",width:"700px",color:"#ffffff","text-align":"left",padding:"10px","line-height":"25px","font-size":"12px"}},[t("div",{staticStyle:{display:"flex","justify-content":"center","place-items":"center","align-content":"center"}},[t("div",{staticStyle:{width:"160px",height:"100%",display:"flex","justify-content":"center","place-items":"center","align-content":"center"}},[t("div",{staticClass:"express-loading"},[t("div",{staticClass:"express-loading-icon-spinner"}),t("div",{staticClass:"express-loading-icon",staticStyle:{"background-image":"url('/images/logo-plain.png')","background-size":"100% 100%"}})])]),t("div",{staticStyle:{"flex-grow":"1","padding-top":"20px","padding-right":"20px","padding-bottom":"20px"}},[e.english?t("div",[e._v(" Become a Enterprise VIP."),t("br"),e._v("         You can describe to me the layout method you want or tell me which graph library's layout method you want to migrate to use in relation-graph."),t("br"),e._v("         After the migration is complete, you can take advantage of relation-graph's slot support and use div+css, Vue components, React components, etc. to fully customize your graphic elements. "),t("br")]):t("div",{staticClass:"my-content-panel"},[e._v(" 成为企业会员"),t("br"),e._v("         您可以向我描述你想要的布局方式，或者告诉我你想迁移哪个图形类库的布局方式到relation-graph中使用。"),t("br"),e._v("         在迁移完成后，你就可以借助relation-graph对插槽的支持，使用div+css、Vue组件、React组件，尽情的自定义你的图形元素。 ")])])])]):e._e(),n.id==="button"?t("div",{staticClass:"c-eye",staticStyle:{height:"100%",display:"flex","align-items":"center","justify-content":"center","place-items":"center",padding:"5px"}},[t("router-link",{attrs:{to:"/vip-services"}},[t("div",{staticClass:"c-eye-dot c-eye-dot-left"},[t("div",{staticClass:"c-eye-text"},[e._v(" "+e._s(e.english?"Service":"服务")+" ")])])])],1):e._e(),n.id==="button2"?t("div",{staticClass:"c-eye",staticStyle:{height:"100%",display:"flex","align-items":"center","justify-content":"center","place-items":"center",padding:"5px"}},[t("router-link",{attrs:{to:"/vip-services"}},[t("div",{staticClass:"c-eye-dot c-eye-dot-right"},[t("div",{staticClass:"c-eye-text"},[e._v(" "+e._s(e.english?"Price":"价格")+" ")])])])],1):e._e()]}}])})],1)])},S=[];const c={};var C=v(_,x,S,!1,N,"08ad22da",null,null);function N(e){for(let o in c)this[o]=c[o]}const P=function(){return C.exports}();export{P as default};
