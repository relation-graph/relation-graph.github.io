import{m as n,n as l,a as d,f as p}from"./index-d32a4e53.js";import{R as h}from"./rg-header-23cda890.js";import c from"./relation-graph-logo-e4609733.js";import{V as g}from"./VipIcon-eb4b373d.js";import{R as v}from"./rg-footer-d7555b2d.js";import"./svg-sprites-virtual-module-d0efe676.js";var u=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"c-card",class:{"c-card-disabled":t.vipCard.isDisabled==="1","ent-vip":t.vipCard.roleId==="ent-vip"},staticStyle:{padding:"20px","max-width":"400px",width:"100%","text-align":"left",float:"left","margin-right":"20px","margin-top":"20px"}},[e("div",{staticStyle:{"font-weight":"bold","font-size":"14px","line-height":"30px",color:"rgb(62, 80, 96)"}},[e("i",{staticClass:"el-icon-bank-card"}),t._v(" "+t._s(t.english?t.vipCard.roleId==="ent-vip"?"Enterprise VIP":"Personal VIP":t.vipCard.roleName)+" "),e("VipIcon",{attrs:{"ent-vip":t.vipCard.roleId==="ent-vip",invaild:t.vipCard.isDisabled==="1"}})],1),e("div",{staticClass:"c-card-info-item"},[e("div",[e("span",{staticClass:"c-key"},[t._v(t._s(t.english?"From:":"加入时间："))]),t._v(t._s(t.vipCard.fromTimeCN))]),e("div",[e("span",{staticClass:"c-key"},[t._v(t._s(t.english?"To:":"到期时间："))]),t._v(t._s(t.vipCard.toTimeCN))]),e("div",[e("span",{staticClass:"c-key"},[t._v(t._s(t.english?"Status:":"会员状态："))]),t.vipCard.isDisabled==="0"?e("span",{staticStyle:{color:"#df7f03"}},[t._v(t._s(t.english?"Valid":"有效："))]):e("span",{staticStyle:{color:"#5a5e66"}},[t._v(t._s(t.english?"Invalid":"会员状失效态："))])])])])},_=[];const m={name:"VipCard",props:{vipCard:{mustUseProp:!0,default:null,type:Object}},components:{Logo:c,VipIcon:g},computed:n(["english"])},o={};var f=l(m,u,_,!1,x,"c61bd042",null,null);function x(t){for(let i in o)this[i]=o[i]}const y=function(){return f.exports}();var C=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("rg-header",{attrs:{title:"用户中心"}}),e("div",{class:[t.isMobile?"c-page-mobile":"c-page-pc"]},[e("div",{staticStyle:{"max-width":"1200px","margin-left":"auto","margin-right":"auto",padding:"30px"}},[e("div",[e("div",{staticClass:"c-vip-thanks",staticStyle:{height:"200px"}},[t.isVipUser?t._e():e("div",[e("div",{staticStyle:{"font-weight":"bold","font-size":"14px","line-height":"30px",color:"rgb(62, 80, 96)"}},[t._v(" "+t._s(t.english?"Your support enables relation-graph to go further and last longer:":"您的支持能让 relation-graph 能够走的更远、更持久：")+" ")])]),t.isVipUser?e("div",[e("div",{staticClass:"c-vip-thanks-left"},[e("div",{staticClass:"hoja"},[e("div",{staticStyle:{"padding-top":"7px"}},[e("Logo",{attrs:{width:"25",height:"25"}})],1)])]),e("div",{staticClass:"c-vip-thanks-right"},[e("div",{staticStyle:{"font-weight":"bold","font-size":"14px","line-height":"30px",color:"rgb(62, 80, 96)"}},[t._v(" "+t._s(t.english?"Dear VIP member:":"尊敬的VIP会员您好！")+" ")]),e("div",{staticStyle:{"font-size":"14px","line-height":"25px",color:"rgb(62, 80, 96)"}},[e("div",[t._v(" "+t._s(t.english?"Thank you for your support. Your support enables relation-graph to go further and last longer.":"感谢您的支持，您的支持能让 relation-graph 能够走的更远、更持久。")+" ")])])]),e("div",{staticStyle:{clear:"both"}})]):t._e(),e("div",{staticStyle:{position:"absolute",right:"10px",top:"10px","background-color":"rgba(255,255,255,0.48)",height:"40px","padding-left":"20px","padding-right":"20px","border-radius":"7px"}},[e("div",{staticClass:"c-user-welcome-text",staticStyle:{"font-size":"14px","text-align":"right","line-height":"40px"}},[e("span",{staticStyle:{color:"#df7f03"}},[t._v(t._s(t.userNickName))]),e("el-link",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.logout}},[e("i",{staticClass:"el-icon-switch-button"}),t._v(" "+t._s(t.english?"Sigout":"退出登录")+" ")])],1)]),e("div",{staticStyle:{"padding-bottom":"20px",position:"absolute",right:"30px",bottom:"0px"}},[e("div",{staticClass:"c-user-welcome-text",staticStyle:{"font-size":"14px"}},[e("el-link",{attrs:{type:"primary",icon:"el-icon-present"},on:{click:t.exchangeCoupon}},[t._v(" "+t._s(t.english?"Use VIP membership redemption code":"使用VIP会员兑换码")+" ")])],1)])])]),t.isVipUser?t._e():e("div",[t.english?e("div",{staticStyle:{padding:"30px"}},[t._v(" Please send an email to "),e("a",{staticStyle:{color:"#409eff"},attrs:{href:"mailto:3235808353@qq.com"}},[t._v("3235808353@qq.com")]),t._v(" to contact me. "),e("br")]):e("div",[e("div",{staticStyle:{"font-size":"14px","line-height":"25px",color:"rgb(62, 80, 96)",padding:"20px"}},[e("div",[t._v("1，扫描二维码，加入知识星球群（付费加入）。")]),e("div",[t._v("2，加入后，我会在知识星球私信中联系您，您将得到"),e("el-link",{attrs:{type:"primary"},on:{click:t.exchangeCoupon}},[t._v("VIP会员兑换码")]),t._v("，同时我会加您微信。")],1),e("div",[t._v("3，感谢您的支持。")])]),t._m(0)])]),t.vipCards.length>0?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.cardLoading,expression:"cardLoading"}],staticStyle:{"text-align":"left","padding-top":"30px","min-height":"400px"}},[e("div",{staticStyle:{position:"relative"}},[t._l(t.vipCards,function(a){return[e("vip-card",{key:a.id,attrs:{"vip-card":a}})]})],2)]):t._e()]),e("div",{staticStyle:{height:"600px"}}),e("rg-footer")],1)],1)},b=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{"text-align":"center","padding-top":"10px","font-size":"14px"}},[e("div",{staticStyle:{"line-height":"35px",color:"rgb(150, 83, 6)"}},[t._v("加入星球，填写您的【微信号】，我会加您微信与您联系。")]),e("img",{staticStyle:{"max-height":"300px","border-radius":"10px",border:"#eeeeee solid 1px"},attrs:{src:"/images/relation-graph-star.jpg"}}),e("div",[e("div",{staticStyle:{"line-height":"35px",color:"rgb(150, 83, 6)"}},[t._v("账号出现问题请联系QQ：3235808353")])]),e("div",[e("div",{staticStyle:{"line-height":"35px",color:"rgb(150, 83, 6)"}},[t._v("10月11日新建星球，欢迎加入，前50名优惠券：")]),e("img",{staticStyle:{"max-height":"400px","border-radius":"10px",border:"#eeeeee solid 1px"},attrs:{src:"/images/rg-github-user.png"}})])])}];const S={name:"UserIndex",components:{RgFooter:v,VipCard:y,RgHeader:h,Logo:c},data(){return{showPayCode:!1,cardLoading:!0,checkedRoute:null,vipCards:[]}},computed:{...n(["isMobile","english"]),...d({userInfo:t=>t.user.userInfo}),isVipUser(){return this.userInfo&&this.userInfo.roles.length>0},isPersonVip(){if(!this.userInfo)return!1;const t=this.userInfo.roles.filter(i=>i==="person-vip");if(t.length===1&&t[0]==="person-vip")return!0},userNickName(){return this.userInfo&&this.userInfo.account||""}},mounted(){this.loadVipCards()},methods:{async toggleShowPayCode(){this.showPayCode=!this.showPayCode},async logout(){await this.$store.dispatch("user/logout"),await this.$router.push("/login")},exchangeCoupon(){const t=this.english?"You are already a member, and you can still use a redemption code to renew your membership.":"您已经是会员，您仍然可以使用兑换码为会员续期",i=this.english?"Use redemption code:":"使用兑换码：";this.$prompt(this.isVipUser?t:"",i,{closeOnClickModal:!1,confirmButtonText:this.english?"Confirm redemption":"确定兑换",cancelButtonText:this.english?"Cancel":"取消",inputPattern:/^.{6,50}$/,inputErrorMessage:this.english?"Please enter the redemption code in the correct format.":"请输入正确格式的兑换码"}).then(({value:e})=>{const a=p.Loading.service({fullscreen:!0});this.SeeksHttp.postJson("/account/useExchangeCoupon",{exCode:e}).then(async s=>{a.close(),console.log(s.data),s&&s.data&&s.data.code===200&&(this.$message({type:"success",message:s.data.data}),await this.$store.dispatch("user/getInfo"),await this.loadVipCards())})})},async loadVipCards(){const t=await this.SeeksHttp.postJson("/account/vip-info",{});console.log("vipCards:",t.data),this.vipCards=t.data.data,this.cardLoading=!1}}},r={};var I=l(S,C,b,!1,k,"6fb28f2d",null,null);function k(t){for(let i in r)this[i]=r[i]}const N=function(){return I.exports}();export{N as default};
