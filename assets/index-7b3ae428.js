import{m as n,d as r,i as l,n as p}from"./index-120b3164.js";import{R as c}from"./rg-header-f255050b.js";import d from"./relation-graph-logo-e4609733.js";import{V as h}from"./vip-card-e1f6433a.js";import{R as g}from"./rg-footer-e118f55f.js";import{G as u}from"./GoToVipService-c14e0081.js";import{V as m}from"./VipIcon-aceeff3c.js";import{P as v}from"./AppConfig-ea348225.js";import"./svg-sprites-virtual-module-d0efe676.js";const _={name:"UserIndex",components:{VipIcon:m,GoToVipService:u,RgFooter:g,VipCard:h,RgHeader:c,Logo:d},data(){return{PRICE_SETTING:v,showTechnicalSupport:!1,showPayCode:!1,cardLoading:!0,checkedRoute:null,vipCards:[]}},computed:{...n(["isMobile","english"]),...r({userInfo:t=>t.user.userInfo}),isVipUser(){return this.userInfo&&this.userInfo.roles.length>0},isAdmin(){return this.userInfo&&this.userInfo.roles.includes("rg-admin")},isPersonVip(){if(!this.userInfo)return!1;const t=this.userInfo.roles.filter(i=>i.endsWith("-vip"));if(t.length===1&&t[0]==="person-vip")return!0},userNickName(){return this.userInfo&&this.userInfo.account||""}},mounted(){this.loadVipCards()},methods:{toggleTechnicalSupport(){this.showTechnicalSupport=!this.showTechnicalSupport},async toggleShowPayCode(){this.showPayCode=!this.showPayCode},async logout(){await this.$store.dispatch("user/logout"),await this.$router.push("/login")},exchangeCoupon(){const t=this.english?"You are already a member, and you can still use a redemption code to renew your membership.":"您已经是会员，您仍然可以使用兑换码为会员续期",i=this.english?"Use redemption code:":"使用兑换码：";this.$prompt(this.isVipUser?t:"",i,{closeOnClickModal:!1,confirmButtonText:this.english?"Confirm redemption":"确定兑换",cancelButtonText:this.english?"Cancel":"取消",inputPattern:/^.{6,50}$/,inputErrorMessage:this.english?"Please enter the redemption code in the correct format.":"请输入正确格式的兑换码"}).then(({value:e})=>{const o=l.Loading.service({fullscreen:!0});this.SeeksHttp.postJson("/account/useExchangeCoupon",{exCode:e}).then(async s=>{o.close(),console.log(s.data),s&&s.data&&s.data.code===200&&(this.$message({type:"success",message:s.data.data}),await this.$store.dispatch("user/getInfo"),await this.loadVipCards())})})},async loadVipCards(){const t=await this.SeeksHttp.postJson("/account/vip-info",{});console.log("vipCards:",t.data),this.vipCards=t.data.data,this.cardLoading=!1}}};var f=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("rg-header",{attrs:{title:"用户中心"}}),e("div",{class:[t.isMobile?"c-page-mobile":"c-page-pc"]},[e("div",{staticStyle:{"max-width":"1200px","margin-left":"auto","margin-right":"auto",padding:"30px"}},[e("div",[e("div",{staticClass:"c-vip-thanks",staticStyle:{height:"200px"}},[t.isVipUser?t._e():e("div",[e("div",{staticStyle:{"font-weight":"bold","font-size":"14px","line-height":"30px",color:"rgb(62, 80, 96)"}},[t._v(" "+t._s(t.english?"Your support enables relation-graph to go further and last longer:":"您的支持能让 relation-graph 能够走的更远、更持久：")+" ")])]),t.isVipUser?e("div",[e("div",{staticClass:"c-vip-thanks-left"},[e("div",{staticClass:"hoja"},[e("div",{staticStyle:{"padding-top":"7px"}},[e("Logo",{attrs:{width:"25",height:"25"}})],1)])]),e("div",{staticClass:"c-vip-thanks-right"},[e("div",{staticStyle:{"font-weight":"bold","font-size":"14px","line-height":"30px",color:"rgb(62, 80, 96)"}},[t._v(" "+t._s(t.english?"Dear VIP member:":"尊敬的VIP会员您好！")+" ")]),e("div",{staticStyle:{"font-size":"14px","line-height":"25px",color:"rgb(62, 80, 96)"}},[e("div",[t._v(" "+t._s(t.english?"Thank you for your support. Your support enables relation-graph to go further and last longer.":"感谢您的支持，您的支持能让 relation-graph 能够走的更远、更持久。")+" ")])])]),e("div",{staticStyle:{clear:"both"}})]):t._e(),e("div",{staticStyle:{position:"absolute",right:"10px",top:"10px","background-color":"rgba(255,255,255,0.48)",height:"40px","padding-left":"20px","padding-right":"20px","border-radius":"7px"}},[e("div",{staticClass:"c-user-welcome-text",staticStyle:{"font-size":"14px","text-align":"right","line-height":"40px"}},[e("span",{staticStyle:{color:"#df7f03"}},[t._v(t._s(t.userNickName))]),e("el-link",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.logout}},[e("i",{staticClass:"el-icon-switch-button"}),t._v(" "+t._s(t.english?"Sigout":"退出登录")+" ")])],1)]),e("div",{staticStyle:{"padding-bottom":"20px",position:"absolute",right:"30px",bottom:"0px"}},[e("div",{staticClass:"c-user-welcome-text",staticStyle:{"font-size":"14px"}},[t.isAdmin?e("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",icon:"el-icon-setting",href:"/#/manage"}},[t._v(" "+t._s(t.english?"Admin Manage":"系统管理")+" ")]):t._e(),e("el-link",{attrs:{type:"primary",icon:"el-icon-present"},on:{click:t.exchangeCoupon}},[t._v(" "+t._s(t.english?"Use VIP membership redemption code":"使用VIP会员兑换码")+" ")])],1)])])]),t.isVipUser?t._e():e("div",[e("div",{staticStyle:{"margin-top":"20px"}},[e("GoToVipService",{attrs:{"hide-message":!0}}),e("div",{staticStyle:{"text-align":"center","padding-top":"20px"}},[e("router-link",{attrs:{to:"/pay"}},[e("el-button",{attrs:{type:"success",icon:"el-icon-s-promotion",round:"",plain:""}},[t._v(" "+t._s(t.english?"Become a VIP Member":"成为会员")+" ")])],1),e("div",{staticStyle:{"padding-top":"10px"}},[e("el-link",{staticStyle:{"margin-left":"10px"},attrs:{href:"/#/vip-services",type:"primary"}},[t._v(" "+t._s(t.english?"View the content of VIP membership services.":"查看VIP会员服务内容")+" ")])],1)],1)],1)]),t.vipCards.length>0?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.cardLoading,expression:"cardLoading"}],staticStyle:{"text-align":"left","padding-top":"30px","min-height":"200px"}},[e("div",{staticStyle:{position:"relative"}},[t._l(t.vipCards,function(o){return[e("vip-card",{key:o.id,attrs:{"vip-card":o}})]})],2)]):t._e(),e("div",{staticStyle:{clear:"both"}}),t.isPersonVip?e("div",{staticStyle:{padding:"10px"}},[t.english?t._e():e("div",[e("div",{staticStyle:{"font-size":"14px","line-height":"25px",color:"rgb(62, 80, 96)",padding:"20px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-s-promotion",round:"",plain:""},on:{click:t.toggleTechnicalSupport}},[t._v(" "+t._s(t.english?"Oneline Technical Support":"需要技术支持服务")+" ")])],1),t.showTechnicalSupport?e("div",[e("div",[t._v("如果您需要在线即时技术支持服务（微信），你可以有以下方式可供选择：")]),e("div",{staticStyle:{"padding-left":"30px"}},[e("div",[t._v("1，可选方式1：您可以升级为企业会员（"+t._s(t.PRICE_SETTING.ENT_VIP_PRICE)+"/年，可开具发票），最高优先级的人工技术支持，不仅可以为您的开发团队解答问题，我们还可以根据您的需求编写代码（8小时工作量，对于大多数项目是绝对够用了）。")]),e("div",[t._v("2，可选方式2：请扫描下方二维码，加入知识星球群（付费加入："+t._s(t.PRICE_SETTING.ZHI_SHI_XING_QIU_PRICE)+"/年，可开具发票），然后按照指引（星球中的文章）添加我的微信，你可以提任何问题，我将为你答疑、给出建议或实现思路。")])]),e("div",{staticStyle:{"text-align":"center","padding-top":"10px","font-size":"14px"}},[e("img",{staticStyle:{"max-height":"300px","border-radius":"10px",border:"#eeeeee solid 1px"},attrs:{src:"/images/relation-graph-star.jpg"}}),e("div",[e("div",{staticStyle:{"line-height":"35px",color:"rgb(150, 83, 6)"}},[t._v("咨询详情请请联系"+t._s(t.PRICE_SETTING.SERVICES_QUESTION_TO))])])])]):t._e()])])]):t._e()]),e("div",{staticStyle:{height:"600px"}}),e("rg-footer")],1)],1)},x=[];const a={};var y=p(_,f,x,!1,S,"61bd2bb7",null,null);function S(t){for(let i in a)this[i]=a[i]}const R=function(){return y.exports}();export{R as default};
